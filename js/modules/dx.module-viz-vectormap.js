/*! 
* DevExtreme (Vector Map)
* Version: 14.2.7
* Build date: Apr 17, 2015
*
* Copyright (c) 2011 - 2014 Developer Express Inc. ALL RIGHTS RESERVED
* EULA: https://www.devexpress.com/Support/EULAs/DevExtreme.xml
*/
"use strict";if(!DevExpress.MOD_VIZ_VECTORMAP){if(!DevExpress.MOD_VIZ_CORE)throw Error("Required module is not referenced: viz-core");(function(n,t,i){function l(){return"vectormap-data-"+c++}function f(){this._store={}}var u;n.viz.map={};var a=Number,v=n.utils.isFunction,r=n.utils.getRootOffset,e=n.viz.core.utils.parseScalar,s=800,h=400,o=t.extend,c=1;u=n.viz.core.BaseWidget.inherit({_eventsMap:o({},n.viz.core.BaseWidget.prototype._eventsMap,{onClick:{name:"click",deprecated:"click",deprecatedContext:function(n){return n.component},deprecatedArgs:function(n){return[n.jQueryEvent]}},click:{newName:"onClick"},onCenterChanged:{name:"centerChanged",deprecated:"centerChanged",deprecatedContext:function(n){return n.component},deprecatedArgs:function(n){return[n.center]}},centerChanged:{newName:"onCenterChanged"},onZoomFactorChanged:{name:"zoomFactorChanged",deprecated:"zoomFactorChanged",deprecatedContext:function(n){return n.component},deprecatedArgs:function(n){return[n.zoomFactor]}},zoomFactorChanged:{newName:"onZoomFactorChanged"},onAreaClick:{name:"areaClick",deprecated:"areaSettings.click",deprecatedContext:function(n){return n.target},deprecatedArgs:function(n){return[n.target,n.jQueryEvent]}},onAreaHoverChanged:{name:"areaHoverChanged"},onAreaSelectionChanged:{name:"areaSelectionChanged",deprecated:"areaSettings.selectionChanged",deprecatedContext:function(n){return n.target},deprecatedArgs:function(n){return[n.target]}},onMarkerClick:{name:"markerClick",deprecated:"markerSettings.click",deprecatedContext:function(n){return n.target},deprecatedArgs:function(n){return[n.target,n.jQueryEvent]}},onMarkerHoverChanged:{name:"markerHoverChanged"},onMarkerSelectionChanged:{name:"markerSelectionChanged",deprecated:"markerSettings.selectionChanged",deprecatedContext:function(n){return n.target},deprecatedArgs:function(n){return[n.target]}}}),_setDeprecatedOptions:function(){this.callBase(),t.extend(this._deprecatedOptions,{click:{since:"14.2",message:'Use the "onClick" option instead'},centerChanged:{since:"14.2",message:'Use the "onCenterChanged" option instead'},zoomFactorChanged:{since:"14.2",message:'Use the "onZoomFactorChanged" option instead'},"areaSettings.click":{since:"14.2",message:'Use the "onAreaClick" option instead'},"areaSettings.selectionChanged":{since:"14.2",message:'Use the "onAreaSelectionChanged" option instead'},"markerSettings.click":{since:"14.2",message:'Use the "onMarkerClick" option instead'},"markerSettings.selectionChanged":{since:"14.2",message:'Use the "onMarkerSelectionChanged" option instead'},"tooltip.borderColor":{since:"14.1",message:'Use the "border.color" option instead'},"markerSettings.font":{since:"14.2",message:'Use the "label.font" option instead'}})},_initThemeManager:function(){this._themeManager=this._factory.createThemeManager(),this._themeManager.setTheme(this.option("theme"),this.option("rtlEnabled"))},_initBackground:function(n){this._background=this._renderer.rect(0,0,0,0).attr({"class":"dxm-background"}).data(n,{type:"background"})},_initAreasManager:function(n,t,i){var r=this;r._areasManager=r._factory.createAreasManager({container:r._root,renderer:r._renderer,projection:r._projection,themeManager:r._themeManager,tracker:r._tracker,dataKey:n,eventTrigger:r._eventTrigger,dataExchanger:r._dataExchanger,notifyDirty:t,notifyReady:i})},_initMarkersManager:function(n,t,i){var r=this;r._markersManager=r._factory.createMarkersManager({container:r._root,renderer:r._renderer,projection:r._projection,themeManager:r._themeManager,tracker:r._tracker,eventTrigger:r._eventTrigger,dataExchanger:r._dataExchanger,dataKey:n,notifyDirty:t,notifyReady:i})},_initLegendsControl:function(){var n=this;n._legendsControl=n._factory.createLegendsControl({container:n._root,renderer:n._renderer,layoutControl:n._layoutControl,dataExchanger:n._dataExchanger})},_initControlBar:function(n){var t=this;t._controlBar=t._factory.createControlBar({container:t._root,renderer:t._renderer,layoutControl:t._layoutControl,projection:t._projection,dataKey:n})},_initTooltip:function(){var n=this;n._tooltip=n._factory.createTooltip({container:n._root,renderer:n._renderer,eventTrigger:n._eventTrigger})},_initElements:function(){function r(){n._resetIsReady(),++i}function u(){--i==0&&(n._drawn(),n.hideLoadingIndicator())}var n=this,t=l(),i=0;n._dataExchanger=new f,n._initCenterHandler(),n._projection=n._factory.createProjection(),n._tracker=n._factory.createTracker({root:n._root,dataKey:t}),n._layoutControl=n._factory.createLayoutControl(),n._initBackground(t),n._initAreasManager(t,r,u),n._initMarkersManager(t,r,u),n._initLegendsControl(),n._initControlBar(t),n._initTooltip()},_init:function(){this._initThemeManager(),this.callBase.apply(this,arguments)},_initCore:function(){var n=this;n._root=n._renderer.root,n._root.attr({"class":"dxm",stroke:"none","stroke-width":0,fill:"none",align:"center",cursor:"default"}).css({overflow:"hidden"}),n._initElements(),n._setThemeDependentOptions(),n._areasManager.setData(n.option("mapData")),n._markersManager.setData(n.option("markers")),n._projection.setBounds(n.option("bounds")).setMaxZoom(n.option("maxZoomFactor")).setZoom(n.option("zoomFactor"),!0).setCenter(n.option("center"),!0),n._setTrackerOptions(),n._setupInteraction(),n._setTrackerCallbacks(),n._setControlBarCallbacks(),n._setProjectionCallbacks()},_disposeCore:function(){var n=this;n.callBase.apply(n,arguments),n._resetProjectionCallbacks(),n._resetTrackerCallbacks(),n._resetControlBarCallbacks(),n._themeManager.dispose(),n._tracker.dispose(),n._legendsControl.dispose(),n._areasManager.dispose(),n._markersManager.dispose(),n._controlBar.dispose(),n._tooltip.dispose(),n._layoutControl.dispose(),n._disposeCenterHandler(),n._dataExchanger.dispose(),n._projection.dispose(),n._themeManager=n._dataExchanger=n._projection=n._tracker=n._layoutControl=n._root=n._background=n._areasManager=n._markersManager=n._controlBar=n._legendsControl=n._tooltip=null},_getRendererParameters:function(){return{width:1,height:1,pathModified:this.option("pathModified"),rtl:this._getOption("rtlEnabled",!0)}},_getOption:function(n,t){var u=this._themeManager.theme(n),r=this.option(n);return t?r!==i?r:u:o(!0,{},u,r)},_initCenterHandler:function(){var n=this,i,r,t=!1;n._centerHandler={processStart:function(t){n._centeringEnabled&&(i=t.x,r=t.y,n._noCenterChanged=!0)},processMove:function(u){n._centeringEnabled&&(t||(n._root.attr({cursor:"move"}),t=!0),n._projection.moveCenter(i-u.x,r-u.y),i=u.x,r=u.y)},processEnd:function(){n._centeringEnabled&&(n._root.attr({cursor:"default"}),n._noCenterChanged=null,t&&n._raiseCenterChanged(),t=!1)}}},_disposeCenterHandler:function(){this._centerHandler=null},_setProjectionCallbacks:function(){var n=this;n._projection.on({center:function(){n._raiseCenterChanged()},zoom:function(){n._raiseZoomFactorChanged()}});n._resetProjectionCallbacks=function(){n._resetProjectionCallbacks=n=null}},_setTrackerCallbacks:function(){var n=this,e=n._centerHandler,o=n._renderer,t={area:n._areasManager,marker:n._markersManager},u=n._controlBar,i=n._tooltip,f=!1;n._tracker.setCallbacks({click:function(i){var f=r(o),u;i.$event.x=i.x-f.left,i.$event.y=i.y-f.top,u=t[i.data.type],u&&u.raiseClick(i.data.index,i.$event),(u||i.data.type==="background")&&n._eventTrigger("click",{jQueryEvent:i.$event})},start:function(n){f=n.data.type==="control-bar",f?(n.data=n.data.index,u.processStart(n)):e.processStart(n)},move:function(n){f?(n.data=n.data.index,u.processMove(n)):e.processMove(n)},end:function(n){f?(n.data=n.data.index,u.processEnd(n),f=!1):e.processEnd()},zoom:function(n){u.processZoom(n)},"hover-on":function(n){var i=t[n.data.type];i&&i.hoverItem(n.data.index,!0)},"hover-off":function(n){var i=t[n.data.type];i&&i.hoverItem(n.data.index,!1)},"focus-on":function(n,u){var s=!1,f,e;i.enabled()&&(f=t[n.data.type]?t[n.data.type].getProxyItem(n.data.index):null,!!f&&i.prepare(f,{offset:12})&&(e=r(o),i.show({}).move(n.x-e.left,n.y-e.top),s=!0)),u(s)},"focus-move":function(n){var t=r(o);i.move(n.x-t.left,n.y-t.top)},"focus-off":function(){i.hide({})}}),n._resetTrackerCallbacks=function(){n._resetTrackerCallbacks=n=e=o=t=u=i=null}},_setControlBarCallbacks:function(){var n=this,t=n._projection,i;n._projection.on({zoom:function(){i=!0}});n._controlBar.setCallbacks({reset:function(n,i){n&&t.setCenter(null),i&&t.setZoom(null)},beginMove:function(){n._noCenterChanged=!0},endMove:function(){n._noCenterChanged=null,n._raiseCenterChanged()},move:function(n,i){t.moveCenter(n,i)},zoom:function(u,f){var o,e;f&&(e=r(n._renderer),e=[f[0]-e.left,f[1]-e.top],o=t.fromScreenPoint(e[0],e[1])),i=!1,t.setScaledZoom(u),i&&f&&t.setCenterByPoint(o,e)}}),n._resetControlBarCallbacks=function(){n._resetControlBarCallbacks=n=t=null}},_setupInteraction:function(){var n=this;n._centerHandler.processEnd(),n._centeringEnabled=!!e(this._getOption("panningEnabled",!0),!0),n._zoomingEnabled=!!e(this._getOption("zoomingEnabled",!0),!0),n._controlBar.setInteraction({centeringEnabled:n._centeringEnabled,zoomingEnabled:n._zoomingEnabled})},_getDefaultSize:function(){return{width:s,height:h}},_applySize:function(){var n=this,t=n._canvas.width,i=n._canvas.height;n._projection.setSize(t,i),n._layoutControl.setSize(t,i),n._tooltip.setSize(t,i),n._background.attr({x:0,y:0,width:t,height:i})},_resize:t.noop,_clean:function(){var n=this;n._tracker.reset(),n._layoutControl.stop(),n._background.remove(),n._areasManager.clean(),n._markersManager.clean(),n._controlBar.clean(),n._legendsControl.clean(),n._tooltip.clean()},_render:function(){var n=this;n._background.append(n._root),n._areasManager.render(),n._markersManager.render(),n._controlBar.render(),n._legendsControl.render(),n._layoutControl.start(),n._tooltip.render()},_optionChanged:function(n){var t=this,i=n.value;switch(n.name){case"theme":t._themeManager.setTheme(i,t.option("rtlEnabled")),t._setThemeDependentOptions();break;case"mapData":t._areasManager.setData(i);break;case"markers":t._markersManager.setData(i);break;case"bounds":t._projection.setBounds(i);break;case"maxZoomFactor":t._projection.setMaxZoom(i);break;case"zoomFactor":t._projection.setZoom(i);break;case"center":t._projection.setCenter(i);break;case"background":t._setBackgroundOptions();break;case"areaSettings":t._setAreasManagerOptions();break;case"markerSettings":t._setMarkersManagerOptions();break;case"controlBar":t._setControlBarOptions();break;case"legends":t._setLegendsOptions();break;case"tooltip":t._setTooltipOptions();break;case"touchEnabled":case"wheelEnabled":t._setTrackerOptions();break;case"panningEnabled":case"zoomingEnabled":t._setupInteraction();break;default:t.callBase.apply(t,arguments)}},_setThemeDependentOptions:function(){var n=this;n._setBackgroundOptions(),n._setAreasManagerOptions(),n._setMarkersManagerOptions(),n._setControlBarOptions(),n._setLegendsOptions(),n._setTooltipOptions()},_setBackgroundOptions:function(){var n=this._getOption("background");this._background.attr({"stroke-width":n.borderWidth,stroke:n.borderColor,fill:n.color})},_setAreasManagerOptions:function(){this._areasManager.setOptions(this.option("areaSettings")),this._eventTrigger.update("onAreaClick"),this._eventTrigger.update("onAreaSelectionChanged")},_setMarkersManagerOptions:function(){this._markersManager.setOptions(this.option("markerSettings")),this._eventTrigger.update("onMarkerClick"),this._eventTrigger.update("onMarkerSelectionChanged")},_setControlBarOptions:function(){this._controlBar.setOptions(this._getOption("controlBar"))},_setLegendsOptions:function(){this._legendsControl.setOptions(this.option("legends"),this._themeManager.theme("legend"))},_setTooltipOptions:function(){this._tooltip.setOptions(this._getOption("tooltip"))},_setTrackerOptions:function(){this._tracker.setOptions({touchEnabled:this._getOption("touchEnabled",!0),wheelEnabled:this._getOption("wheelEnabled",!0)})},_raiseCenterChanged:function(){this._noCenterChanged||this._eventTrigger("centerChanged",{center:this._projection.getCenter()})},_raiseZoomFactorChanged:function(){this._noZoomFactorChanged||this._eventTrigger("zoomFactorChanged",{zoomFactor:this._projection.getZoom()})},_refresh:function(){var n=this,t=n.callBase;n._endLoading(function(){t.call(n)})},getAreas:function(){return this._areasManager.getProxyItems()},getMarkers:function(){return this._markersManager.getProxyItems()},clearAreaSelection:function(n){return this._areasManager.clearSelection(n),this},clearMarkerSelection:function(n){return this._markersManager.clearSelection(n),this},clearSelection:function(n){return this.clearAreaSelection(n).clearMarkerSelection(n)},center:function(n,t){var r=this;return n===i?r._projection.getCenter():(r._noCenterChanged=t,r._projection.setCenter(n),r._noCenterChanged=null,r)},zoomFactor:function(n,t){var r=this;return n===i?r._projection.getZoom():(r._noZoomFactorChanged=t,r._projection.setZoom(n),r._noZoomFactorChanged=null,r)},viewport:function(n,t){var r=this;return n===i?r._projection.getViewport():(r._noCenterChanged=r._noZoomFactorChanged=t,r._projection.setViewport(n),r._noCenterChanged=r._noZoomFactorChanged=null,r)},convertCoordinates:function(n,t){return this._projection.fromScreenPointStrict(n,t)},_factory:{}}),u.prototype._factory.createRenderer=function(t){return new n.viz.renderers.Renderer(t)},f.prototype={constructor:f,dispose:function(){return this._store=null,this},_get:function(n,t){var i=this._store[n]||(this._store[n]={});return i[t]||(i[t]={})},set:function(n,t,i){var r=this._get(n,t);return r.data=i,r.callback&&r.callback(i),this},bind:function(n,t,i){var r=this._get(n,t);return r.callback=i,r.data&&i(r.data),this},unbind:function(n,t){var i=this._get(n,t);return i.data=i.callback=null,this}},n.registerComponent("dxVectorMap",n.viz.map,u),n.viz.map._internal={},n.viz.map.sources={}})(DevExpress,jQuery),function(n,t){function lt(n,t,i){var f=(n[0]+t[0])/2-i/2,e=(n[1]+t[1])/2-i/2,r=2/i;return{project:function(n){var t=u.project(n);return[-1+(t[0]-f)*r,-1+(t[1]-e)*r]},unproject:function(n){var t=[f+(n[0]+1)/r,e+(n[1]+1)/r];return u.unproject(t)}}}function y(n,t){return a(n-t)<1e-8}function o(n,t,i,r){var u=w(n);return u<t?u=t:u>i?u=i:t<=u&&u<=i||(u=r),u}function ut(n,t,i){return{lt:[o(n[0],t[0],i[0],t[0]),o(n[1],t[1],i[1],t[1])],rb:[o(n[2],t[0],i[0],i[0]),o(n[3],t[1],i[1],i[1])]}}function at(n){var i=u.unproject([-1,-1]),r=u.unproject([1,1]),o=[f(i[0],r[0]),f(i[1],r[1])],s=[e(i[0],r[0]),e(i[1],r[1])],t=n;return t&&t.minLon&&(t=[t.minLon,t.minLat,t.maxLon,t.maxLat]),t&&(t=ut(t,o,s)),{minBase:o,maxBase:s,min:t?[f(t.lt[0],t.rb[0]),f(t.lt[1],t.rb[1])]:o,max:t?[e(t.lt[0],t.rb[0]),e(t.lt[1],t.rb[1])]:s}}function ft(n,t,i,r){var u;return u=n>-1&&t>=1?i:n<=-1&&t<1?r:(i+r)/2}function p(){this._events={project:t.Callbacks(),transform:t.Callbacks(),center:t.Callbacks(),zoom:t.Callbacks(),"max-zoom":t.Callbacks()},this.setBounds(null)}var w=Number,vt=isFinite,h=n.utils.isArray,r=Math,f=r.min,e=r.max,a=r.abs,et=r.tan,ot=r.atan,st=r.exp,s=r.round,c=r.log,ht=r.pow,l=r.PI,b=l/4,k=l/360,ct=2/r.LN2,d=1/648e4,v=1,g=256,nt=-180,tt=180,it=-85.0511,rt=85.0511,u={aspectRatio:1,project:function(n){var t=n[0],i=n[1];return[t<=nt?-1:t>=tt?1:t/180,i<=it?1:i>=rt?-1:-c(et(b+i*k))/l]},unproject:function(n){var t=n[0],i=n[1];return[t<=-1?nt:t>=1?tt:180*t,i<=-1?rt:i>=1?it:(ot(st(-l*n[1]))-b)/k]}};p.prototype={constructor:p,_minZoom:v,_maxZoom:g,_zoom:v,_center:[NaN,NaN],dispose:function(){return this._events=null,this},setSize:function(n,t){var i=this;return i._x0=n/2,i._y0=t/2,n/t<=u.aspectRatio?(i._xradius=n/2,i._yradius=n/2/u.aspectRatio):(i._xradius=t/2*u.aspectRatio,i._yradius=t/2),i._events.transform.fire(i.getTransform()),i},setBounds:function(n){var t=this,i=at(n),h,c,r,l,o,s;return t._minBase=i.minBase,t._maxBase=i.maxBase,t._minBound=i.min,t._maxBound=i.max,h=u.project(i.min),c=u.project(i.max),r=[a(c[0]-h[0]),a(c[1]-h[1])],r=f(r[0]>d?r[0]:2,r[1]>d?r[1]:2),l=r<2?lt(h,c,r):u,t._project=l.project,t._unproject=l.unproject,o=t._project(i.minBase),s=t._project(i.maxBase),t._minv=[f(o[0],s[0]),f(o[1],s[1])],t._maxv=[e(o[0],s[0]),e(o[1],s[1])],t._defaultCenter=t._unproject([0,0]),t.setCenter(t._defaultCenter),t._events.project.fire(),t},_toScreen:function(n){return[this._x0+this._xradius*n[0],this._y0+this._yradius*n[1]]},_fromScreen:function(n){return[(n[0]-this._x0)/this._xradius,(n[1]-this._y0)/this._yradius]},_toTransformed:function(n){return[n[0]*this._zoom+this._dxcenter,n[1]*this._zoom+this._dycenter]},_toTransformedFast:function(n){return[n[0]*this._zoom,n[1]*this._zoom]},_fromTransformed:function(n){return[(n[0]-this._dxcenter)/this._zoom,(n[1]-this._dycenter)/this._zoom]},_adjustCenter:function(){var n=this,t=n._project(n._center);n._dxcenter=-t[0]*n._zoom,n._dycenter=-t[1]*n._zoom},projectArea:function(n){for(var r=0,o=h(n)?n.length:0,t,i,f,u,e=[];r<o;++r){for(t=n[r],u=[],i=0,f=h(t)?t.length:0;i<f;++i)u.push(this._project(t[i]));e.push(u)}return e},projectPoint:function(n){return n?this._project(n):[]},getAreaCoordinates:function(n){for(var i=0,s=n.length,r,t,e,o=[],u,f;i<s;++i){for(r=n[i],u=[],t=0,e=r.length;t<e;++t)f=this._toScreen(this._toTransformedFast(r[t])),u.push(f[0],f[1]);o.push(u)}return o},getPointCoordinates:function(n){var t=this._toScreen(this._toTransformedFast(n));return{x:s(t[0]),y:s(t[1])}},getSquareSize:function(n){return[n[0]*this._zoom*this._xradius,n[1]*this._zoom*this._yradius]},getZoom:function(){return this._zoom},setZoom:function(n,t){var i=this,r=i._zoom;return i._zoom=o(n,i._minZoom,i._maxZoom,i._minZoom),i._adjustCenter(),(!y(r,i._zoom)||t)&&i._events.zoom.fire(i.getZoom(),i.getTransform()),i},getScaledZoom:function(){return s((this._scale.length-1)*c(this._zoom)/c(this._maxZoom))},setScaledZoom:function(n){return this.setZoom(this._scale[s(n)])},getZoomScalePartition:function(){return this._scale.length-1},_setupScaling:function(){var n=this,t=s(ct*c(n._maxZoom)),r,i,u=1;for(t=t>4?t:4,r=ht(n._maxZoom,1/t),i=n._minZoom,n._scale=[i];u<=t;++u)n._scale.push(i*=r)},setMaxZoom:function(n){var t=this;return t._minZoom=v,t._maxZoom=o(n,t._minZoom,w.MAX_VALUE,g),t._setupScaling(),t._zoom>t._maxZoom&&t.setZoom(t._maxZoom),t._events["max-zoom"].fire(t._maxZoom),t},getMinZoom:function(){return this._minZoom},getMaxZoom:function(){return this._maxZoom},getCenter:function(){return[this._center[0],this._center[1]]},setCenter:function(n,t){var i=this,r=h(n)?n:null,u=i._center;return r=r||n&&(n.lon||n.lat)&&[n.lon,n.lat]||[],i._center=[o(r[0],i._minBound[0],i._maxBound[0],i._defaultCenter[0]),o(r[1],i._minBound[1],i._maxBound[1],i._defaultCenter[1])],i._adjustCenter(),y(u[0],i._center[0])&&y(u[1],i._center[1])&&!t||i._events.center.fire(i.getCenter(),i.getTransform()),i},setCenterByPoint:function(n,t){var i=this,r=i._project(n),u=i._fromScreen(t);return i.setCenter(i._unproject([-u[0]/i._zoom+r[0],-u[1]/i._zoom+r[1]]))},moveCenter:function(n,t){var i=this,r=i._toScreen(i._toTransformed(i._project(i._center))),u=i._unproject(i._fromTransformed(i._fromScreen([r[0]+n,r[1]+t])));return i.setCenter(u)},getViewport:function(){var n=this._unproject(this._fromTransformed([-1,-1])),t=this._unproject(this._fromTransformed([1,1]));return[n[0],n[1],t[0],t[1]]},setViewport:function(n){var t=this;if(!h(n))return t.setZoom(t._minZoom).setCenter(t._defaultCenter);var a=ut(n,t._minBase,t._maxBase),r=t._project(a.lt),u=t._project(a.rb),o=f(r[0],u[0]),s=f(r[1],u[1]),c=e(r[0],u[0]),l=e(r[1],u[1]),i=2/e(c-o,l-s),v=ft(o,c,-1-i*o,1-i*c),y=ft(s,l,-1-i*s,1-i*l);return t.setZoom(i).setCenter(t._unproject([-v/i,-y/i]))},getTransform:function(){return{translateX:this._dxcenter*this._xradius,translateY:this._dycenter*this._yradius}},fromScreenPoint:function(n,t){return this._unproject(this._fromTransformed(this._fromScreen([n,t])))},fromScreenPointStrict:function(n,t){var i=this,r=i._fromTransformed(i._fromScreen([n,t])),u=i._unproject(r);return[r[0]>=i._minv[0]&&r[0]<=i._maxv[0]?u[0]:NaN,r[1]>=i._minv[1]&&r[1]<=i._maxv[1]?u[1]:NaN]},on:function(n){return t.each(this._events,function(t,i){n[t]&&i.add(n[t])}),this}},n.viz.map.dxVectorMap.prototype._factory.createProjection=function(){return new p}}(DevExpress,jQuery),function(n,t){function e(n){delete n._owner,n.update=function(){},n.finish=function(){}}function s(n,t){this._owner=n,this._command=t.data}function h(n,t){function u(){n._callbacks.move(i,r),f=setTimeout(u,e)}this._command=t.data;var f=null,e=100,i=0,r=0;switch(this._command){case p:r=-10;break;case w:i=10;break;case b:r=10;break;case k:i=-10}this._stop=function(){return clearTimeout(f),n._callbacks.endMove(),this._stop=n=u=null,this},t=null,n._callbacks.beginMove(),u()}function c(n,t){function i(){n._adjustZoom(n._zoomFactor+f),r=setTimeout(i,u)}this._owner=n,this._command=t.data;var r=null,u=150,f=this._command===d?1:-1;this._stop=function(){return clearTimeout(r),this._stop=n=i=null,this},t=null,i()}function l(n,t){this._owner=n,this._zoomFactor=n._zoomFactor,this._pos=t.y}var ut=Number,pt=String,o=Math,a=o.round,ft=o.pow,et=o.log,ot=o.LN2,v=n.viz.core.utils,y=v.parseScalar,st=v.enumParser(["left","center","right"]),ht=v.enumParser(["top","bottom"]),g="command-reset",p="command-move-up",w="command-move-right",b="command-move-down",k="command-move-left",d="command-zoom-in",nt="command-zoom-out",ct="command-zoom-drag-line",tt="command-zoom-drag",i="control-bar",f=1,u=2,it={bigCircleSize:58,smallCircleSize:28,buttonSize:10,arrowButtonOffset:20,incdecButtonSize:11,incButtonOffset:66,decButtonOffset:227,sliderLineStartOffset:88.5,sliderLineEndOffset:205.5,sliderLength:20,sliderWidth:8,trackerGap:4},lt=30.5,at=30.5,vt=61,yt=274,r={},rt;r[g]=s,r[p]=r[w]=r[b]=r[k]=h,r[d]=r[nt]=c,r[tt]=l,rt=n.Class.inherit({_flags:0,ctor:function(n){var t=this;t._params=n,t._createElements(n.renderer,n.dataKey),n.layoutControl.addItem(t),t._subscribeToProjection(n.projection),t._setVisibility(!1)},setCallbacks:function(n){return this._callbacks=n,this},_createElements:function(n,t){var i=this,r,u;i._root=n.g().attr({"class":"dxm-control-bar"}),r=i._buttonsGroup=n.g().attr({"class":"dxm-control-buttons"}).append(i._root),u=n.g().attr({stroke:"none","stroke-width":0,fill:"#000000",opacity:.0001}).css({cursor:"pointer"}).append(i._root),i._createButtons(n,it,t,r),i._createTrackers(n,it,t,u)},_createButtons:function(n,t,i,r){var u=t.buttonSize/2,f=t.arrowButtonOffset-u,o=t.arrowButtonOffset,e=t.incdecButtonSize/2;n.circle(0,0,t.bigCircleSize/2).append(r),n.circle(0,0,u).append(r),n.path([-u,-f,0,-o,u,-f],"line").attr({"stroke-linecap":"square"}).append(r),n.path([f,-u,o,0,f,u],"line").attr({"stroke-linecap":"square"}).append(r),n.path([u,f,0,o,-u,f],"line").attr({"stroke-linecap":"square"}).append(r),n.path([-f,u,-o,0,-f,-u],"line").attr({"stroke-linecap":"square"}).append(r),n.circle(0,t.incButtonOffset,t.smallCircleSize/2).append(r),n.path([[-e,t.incButtonOffset,e,t.incButtonOffset],[0,t.incButtonOffset-e,0,t.incButtonOffset+e]],"area").append(r),n.circle(0,t.decButtonOffset,t.smallCircleSize/2).append(r),n.path([-e,t.decButtonOffset,e,t.decButtonOffset],"area").append(r),n.path([0,t.sliderLineStartOffset,0,t.sliderLineEndOffset],"area").append(r),this._zoomDrag=n.rect(-t.sliderLength/2,t.sliderLineEndOffset-t.sliderWidth/2,t.sliderLength,t.sliderWidth).append(r),this._sliderLineLength=t.sliderLineEndOffset-t.sliderLineStartOffset},_createTrackers:function(n,t,r,u){var f=a((t.arrowButtonOffset-t.trackerGap)/2),o=t.arrowButtonOffset-f,s=a(ft(t.bigCircleSize*t.bigCircleSize/4-f*f,.5)),e=s-o;n.rect(-f,-f,f*2,f*2).data(r,{index:g,type:i}).append(u),n.rect(-f,-s,f*2,e).data(r,{index:p,type:i}).append(u),n.rect(o,-f,e,f*2).data(r,{index:w,type:i}).append(u),n.rect(-f,o,f*2,e).data(r,{index:b,type:i}).append(u),n.rect(-s,-f,e,f*2).data(r,{index:k,type:i}).append(u),n.circle(0,t.incButtonOffset,t.smallCircleSize/2).data(r,{index:d,type:i}).append(u),n.circle(0,t.decButtonOffset,t.smallCircleSize/2).data(r,{index:nt,type:i}).append(u),n.rect(-2,t.sliderLineStartOffset-2,4,t.sliderLineEndOffset-t.sliderLineStartOffset+4).data(r,{index:ct,type:i}).append(u),this._zoomDragCover=n.rect(-t.sliderLength/2,t.sliderLineEndOffset-t.sliderWidth/2,t.sliderLength,t.sliderWidth).data(r,{index:tt,type:i}).append(u)},_subscribeToProjection:function(n){var t=this;n.on({zoom:function(){t._adjustZoom(n.getScaledZoom())},"max-zoom":function(){t._zoomPartition=n.getZoomScalePartition(),t._sliderUnitLength=t._sliderLineLength/t._zoomPartition,t._adjustZoom(n.getScaledZoom())}})},dispose:function(){var n=this;return n._params.layoutControl.removeItem(n),n._root.clear(),n._params=n._callbacks=n._root=n._buttonsGroup=n._zoomDrag=n._zoomDragCover=null,n},resize:function(n){return this._setVisibility(n!==null&&this._options.enabled&&this._flags),this},_setVisibility:function(n){this._root.attr({visibility:n?null:"hidden"})},getLayoutOptions:function(){var n=this._options;return this._rendered&&n.enabled&&this._flags?{width:2*n.margin+vt,height:2*n.margin+yt,horizontalAlignment:n.horizontalAlignment,verticalAlignment:n.verticalAlignment}:null},locate:function(n,t){return this._root.attr({translateX:n+this._options.margin+lt,translateY:t+this._options.margin+at}),this},setInteraction:function(n){var t=this;return t.processEnd(),y(n.centeringEnabled,!0)?t._flags|=f:t._flags&=~f,y(n.zoomingEnabled,!0)?t._flags|=u:t._flags&=~u,t._rendered&&t._refresh(),t},setOptions:function(n){var t=this;return t.processEnd(),t._buttonsGroup.attr({"stroke-width":n.borderWidth,stroke:n.borderColor,fill:n.color}),t._options={enabled:!!y(n.enabled,!0),margin:n.margin>0?ut(n.margin):0,horizontalAlignment:st(n.horizontalAlignment,"left"),verticalAlignment:ht(n.verticalAlignment,"top")},t._rendered&&t._refresh(),t},_refresh:function(){var n=this._flags&&this._options.enabled;this._setVisibility(n),n&&this.updateLayout()},clean:function(){var n=this;return n._rendered=null,n._root.remove(),n},render:function(){var n=this;return n._rendered=!0,n._root.append(n._params.container),n._refresh(),n},_adjustZoom:function(n){var t=this,i;t._zoomFactor=a(n),t._zoomFactor>=0||(t._zoomFactor=0),t._zoomFactor<=t._zoomPartition||(t._zoomFactor=t._zoomPartition),i={translateY:-t._zoomFactor*t._sliderUnitLength},t._zoomDrag.attr(i),t._zoomDragCover.attr(i)},_applyZoom:function(n){this._callbacks.zoom(this._zoomFactor,this._flags&f?n:t)},processStart:function(n){var t=r[n.data];return this._command=t&&this._options.enabled&&t.flags&this._flags?new t(this,n):null,this},processMove:function(n){return this._command&&this._command.update(n),this},processEnd:function(){return this._command&&this._command.finish(),this._command=null,this},processZoom:function(n){var t=this,i;return t._flags&u&&(n.delta?i=n.delta:n.ratio&&(i=et(n.ratio)/ot),t._adjustZoom(t._zoomFactor+i),t._applyZoom([n.x,n.y])),t}}),s.flags=f|u,s.prototype.update=function(n){n.data!==this._command&&e(this)},s.prototype.finish=function(){var n=this._owner._flags;this._owner._callbacks.reset(!!(n&f),!!(n&u)),n&u&&this._owner._adjustZoom(0),e(this)},h.flags=f,h.prototype.update=function(n){this._command!==n.data&&this.finish()},h.prototype.finish=function(){e(this._stop())},c.flags=u,c.prototype.update=function(n){this._command!==n.data&&this.finish()},c.prototype.finish=function(){this._owner._applyZoom(),e(this._stop())},l.flags=u,l.prototype.update=function(n){var t=this._owner;t._adjustZoom(this._zoomFactor+t._zoomPartition*(this._pos-n.y)/t._sliderLineLength)},l.prototype.finish=function(){this._owner._applyZoom(),e(this)},n.viz.map.dxVectorMap.prototype._factory.createControlBar=function(n){return new rt(n)}}(DevExpress),function(n,t,i){function v(n){var t=this;t._root=n.root,t._callbacks={},t._createEventHandlers(n.dataKey),t._focus=new gt(t._callbacks),t._attachHandlers()}function gt(n){var i=this,r=null,f=null,h=!1,t=null,e=null,o,s;i.dispose=function(){clearTimeout(t),clearTimeout(e),i.turnOn=i.turnOff=i.cancel=i.cancelOn=i.dispose=i=n=r=f=t=e=null},i.turnOn=function(i,c,l,a){function v(n){h=!n,n&&(r=f,clearTimeout(e),e=null)}i===f&&h||(h=!1,f=i,r?(o=c.x,s=c.y,clearTimeout(t),t=setTimeout(function(){t=null,f===r?(n[st]({data:f,x:o,y:s}),v(!0)):n[b]({data:f,x:o,y:s},v)},a?l:0)):(!t||u(c.x-o)>d||u(c.y-s)>d||a)&&(o=c.x,s=c.y,clearTimeout(t),t=setTimeout(function(){t=null,n[b]({data:f,x:o,y:s},v)},l)))},i.turnOff=function(i){clearTimeout(t),t=null,f=null,r&&!h&&(e=e||setTimeout(function(){e=null,n[k]({data:r}),r=null},i))},i.cancel=function(){clearTimeout(t),clearTimeout(e),r&&n[k]({data:r}),r=f=t=e=null},i.cancelOn=function(){clearTimeout(t),t=null}}function g(n,t,i,r){return tt((n-i)*(n-i)+(t-r)*(t-r))}function r(n){var t=n.originalEvent.type,i=n.originalEvent.pointerType;return/^touch/.test(t)||/^MSPointer/.test(t)&&i!==4||/^pointer/.test(t)&&i!=="mouse"}function c(n,t){for(var i=0,u=n.length,r;i<u;++i)if(n[i]){r=t[i];break}return o(r||t[i],s)}function ni(){var n=[navigator.pointerEnabled,navigator.msPointerEnabled,"ontouchstart"in window];h={start:c(n,["pointerdown","MSPointerDown","touchstart mousedown","mousedown"]),move:c(n,["pointermove","MSPointerMove","touchmove mousemove","mousemove"]),end:c(n,["pointerup","MSPointerUp","touchend mouseup","mouseup"]),wheel:c([],["mousewheel DOMMouseScroll"])}}function f(n){var t=n.originalEvent,i=t.touches&&t.touches[0]||{};return{x:i.pageX||t.pageX||n.pageX,y:i.pageY||t.pageY||n.pageY}}function nt(n){return n.originalEvent.pointerId}function l(n,t){var r=n.originalEvent;return r=r.pointerId!==i?r.pointerId===t?r:null:r.touches[t],r?{x:r.pageX||n.pageX,y:r.pageY||n.pageY}:null}function ti(n,t){if(n===0)return 0;var i=u(n),r=y(n/i);return t.dir&&r!==t.dir?0:(t.dir=r,i=i<.1?0:i<1?1:i>4?4:y(i),r*i)}var e=Math,u=e.abs,tt=e.sqrt,y=e.round,ii=e.max,ri=e.min,o=n.ui.events.addNamespace,p=n.viz.core.utils.parseScalar,a=t.now,s=n.viz.map.dxVectorMap.prototype.NAME,h={};ni();var it="start",rt="move",ut="end",w="zoom",ft="hover-on",et="hover-off",ot="click",b="focus-on",st="focus-move",k="focus-off",ht=500,ct=5,lt=20,at=5,vt=10,yt=300,pt=300,wt=300,bt=400,d=5,kt=50,dt=300;v.prototype={constructor:v,dispose:function(){var n=this;return n._detachHandlers(),n._focus.dispose(),n._root=n._callbacks=n._focus=n._handlers=null,n},_startClick:function(n,t){if(t){var i=f(n);this._clickState={x:i.x,y:i.y,threshold:r(n)?lt:ct,time:a()}}},_endClick:function(n,t){var i=this._clickState,e,r;i&&(a()-i.time<=ht&&(e=i.threshold,r=f(n),u(r.x-i.x)<=e&&u(r.y-i.y)<=e&&this._callbacks[ot]({data:t,x:r.x,y:r.y,$event:n})),this._clickState=null)},_startDrag:function(n,t){if(t){var r=f(n),i=this._dragState={x:r.x,y:r.y,data:t};this._callbacks[it]({x:i.x,y:i.y,data:i.data})}},_moveDrag:function(n,t){var i=this._dragState,e,o;i&&(e=f(n),o=r(n)?vt:at,(i.active||u(e.x-i.x)>o||u(e.y-i.y)>o)&&(i.x=e.x,i.y=e.y,i.active=!0,i.data=t||{},this._callbacks[rt]({x:i.x,y:i.y,data:i.data})))},_endDrag:function(){var i=this._dragState;i&&(this._dragState=null,this._callbacks[ut]({x:i.x,y:i.y,data:i.data}))},_wheelZoom:function(n,t){if(t){var o=this,i=o._wheelLock,r=a(),u,e;r-i.time<=kt||(r-i.dirTime>dt&&(i.dir=0),u=ti(n.originalEvent.wheelDelta/120||n.originalEvent.detail/-3||0,i),u!==0)&&(e=f(n),o._callbacks[w]({delta:u,x:e.x,y:e.y}),i.time=i.dirTime=r)}},_startZoom:function(n,t){if(r(n)&&t){var u=this._zoomState=this._zoomState||{},f,e;u.pointer1&&u.pointer2||(u.pointer1===i&&(u.pointer1=nt(n)||0,f=l(n,u.pointer1),u.x1=u.x1_0=f.x,u.y1=u.y1_0=f.y),u.pointer2===i&&(e=nt(n)||1,e!==u.pointer1&&(f=l(n,e),f&&(u.x2=u.x2_0=f.x,u.y2=u.y2_0=f.y,u.pointer2=e,u.ready=!0,this._endDrag()))))}},_moveZoom:function(n){var u=this._zoomState,f;u&&r(n)&&(u.pointer1!==i&&(f=l(n,u.pointer1),f&&(u.x1=f.x,u.y1=f.y)),u.pointer2!==i&&(f=l(n,u.pointer2),f&&(u.x2=f.x,u.y2=f.y)))},_endZoom:function(n){var i=this._zoomState,u,f;i&&r(n)&&(i.ready&&(u=g(i.x1_0,i.y1_0,i.x2_0,i.y2_0),f=g(i.x1,i.y1,i.x2,i.y2),this._callbacks[w]({ratio:f/u,x:(i.x1_0+i.x2_0)/2,y:(i.y1_0+i.y2_0)/2})),this._zoomState=null)},_startHover:function(n,t){this._doHover(n,t,!0)},_moveHover:function(n,t){this._doHover(n,t,!1)},_doHover:function(n,t,i){var u=this;if(u._dragState&&u._dragState.active||u._zoomState&&u._zoomState.ready){u._cancelHover();return}r(n)!==i||u._hoverTarget===n.target||u._hoverState&&u._hoverState.data===t||(u._cancelHover(),t&&(u._hoverState={data:t},u._callbacks[ft]({data:t})),u._hoverTarget=n.target)},_cancelHover:function(){var n=this._hoverState;this._hoverState=this._hoverTarget=null,n&&this._callbacks[et]({data:n.data})},_startFocus:function(n,t){this._doFocus(n,t,!0)},_moveFocus:function(n,t){this._doFocus(n,t,!1)},_doFocus:function(n,t,i){var u=this;if(u._dragState&&u._dragState.active||u._zoomState&&u._zoomState.ready){u._cancelFocus();return}r(n)===i&&(u._focus.turnOff(i?bt:pt),t&&u._focus.turnOn(t,f(n),i?wt:yt,i))},_endFocus:function(n){r(n)&&this._focus.cancelOn()},_cancelFocus:function(){this._focus.cancel()},_createEventHandlers:function(n){var i=this;i._handlers={},i._handlers[h.start]=function(u){var e=r(u),f=t(u.target).data(n);(!e||i._isTouchEnabled)&&(f&&u.preventDefault(),i._startClick(u,f),i._startDrag(u,f),i._startZoom(u,f),i._startHover(u,f),i._startFocus(u,f))},i._handlers[h.move]=function(u){var e=r(u),f=t(u.target).data(n);(!e||i._isTouchEnabled)&&(i._moveDrag(u,f),i._moveZoom(u,f),i._moveHover(u,f),i._moveFocus(u,f))},i._handlers[h.end]=function(u){var e=r(u),f=t(u.target).data(n);(!e||i._isTouchEnabled)&&(i._endClick(u,f),i._endDrag(u,f),i._endZoom(u,f),i._endFocus(u,f))},i._handlers[h.wheel]=function(r){if(i._isWheelEnabled){var u=t(r.target).data(n);u&&r.preventDefault(),i._wheelZoom(r,u)}},i._wheelLock={dir:0}},reset:function(){var n=this;return n._clickState=null,n._endDrag(),n._cancelHover(),n._cancelFocus(),n},setCallbacks:function(n){return t.extend(this._callbacks,n),this},setOptions:function(n){var t=this;return t.reset(),t._detachHandlers(),t._isTouchEnabled=!!p(n.touchEnabled,!0),t._isWheelEnabled=!!p(n.wheelEnabled,!0),t._attachHandlers(),t},_detachHandlers:function(){this._isTouchEnabled&&(this._root.css({"touch-action":"","-ms-touch-action":"","-webkit-user-select":""}),this._root.off(o("MSHoldVisual",s)).off(o("contextmenu",s))),t(document).off(this._handlers)},_attachHandlers:function(){if(this._isTouchEnabled){this._root.css({"touch-action":"none","-ms-touch-action":"none","-webkit-user-select":"none"});this._root.on(o("MSHoldVisual",s),function(n){n.preventDefault()}).on(o("contextmenu",s),function(n){r(n)&&n.preventDefault()})}t(document).on(this._handlers)}},n.viz.map.dxVectorMap.prototype._factory.createTracker=function(n){return new v(n)}}(DevExpress,jQuery),function(n,t,i){var u=Number,e=n.viz.core.utils.parseScalar,r=t.extend,f=t.each,o=n.viz.core.BaseThemeManager.inherit({_themeSection:"map",_fontFields:["areaSettings.label.font","markerSettings.label.font","tooltip.font","legend.font","loadingIndicator.font"],getCommonAreaSettings:function(t){var i=r(!0,{},this._theme.areaSettings,t),e,u,f;if(i.paletteSize>0){for(e=new n.viz.core.GradientPalette(i.palette,i.paletteSize),u=0,f=[];u<i.paletteSize;++u)f.push(e.getColor(u));i._colors=f}return i},getAreaSettings:function(n,t){var f=r(!0,{},n,t);return f.borderWidth=u(f.borderWidth)||0,f.borderColor=f.borderColor||null,t.color===i&&t.paletteIndex>=0&&(f.color=n._colors[t.paletteIndex]),f.color=f.color||null,f.hoveredBorderWidth=u(f.hoveredBorderWidth)||f.borderWidth,f.hoveredBorderColor=f.hoveredBorderColor||f.borderColor,f.hoveredColor=f.hoveredColor||f.color,f.selectedBorderWidth=u(f.selectedBorderWidth)||f.borderWidth,f.selectedBorderColor=f.selectedBorderColor||f.borderColor,f.selectedColor=f.selectedColor||f.color,f},getCommonMarkerSettings:function(n){n&&!n.label&&n.font&&(n.label={font:n.font})&&(n.font=i);var t=r({},this._theme.markerSettings),u=r({},n),o={},s={},e;return f(t,function(n,r){n[0]==="_"&&(o[n]=r,s[n]=u[n],t[n]=u[n]=i)}),e=r(!0,{},t,u),f(o,function(n,i){e[n]=r(!0,{},t,i,u,s[n])}),e},getMarkerSettings:function(n,t,i){var f=r(!0,{},n["_"+i],t);return f.borderWidth=u(f.borderWidth)||0,f.borderColor=f.borderColor||null,f.color=f.color||null,f.opacity=f.opacity||null,f.hoveredBorderWidth=u(f.hoveredBorderWidth)||f.borderWidth,f.hoveredBorderColor=f.hoveredBorderColor||f.borderColor,f.hoveredColor=f.hoveredColor||f.color,f.hoveredOpacity=f.hoveredOpacity||f.opacity,f.selectedBorderWidth=u(f.selectedBorderWidth)||f.borderWidth,f.selectedBorderColor=f.selectedBorderColor||f.borderColor,f.selectedColor=f.selectedColor||f.color,f.selectedOpacity=f.selectedOpacity||f.opacity,f},getPieColors:function(t,i){var r=t._pie._colors||[],f,u,e=i>8?i:8;if(r.length<e){for(f=new n.viz.core.Palette(t._pie.palette,{stepHighlight:50,theme:this.themeName()}),u=0,r=[];u<e;++u)r.push(f.getNextColor());t._pie._colors=r}return r},setTheme:function(n,t){var i=this;return i.callBase(n),e(t,i._theme.rtlEnabled)&&r(!0,i._theme,i._theme._rtl),i}});n.viz.map.dxVectorMap.prototype._factory.createThemeManager=function(){return new o}}(DevExpress,jQuery),function(n,t){function e(n){var i=this;i._params=n,i._root=n.renderer.g().attr({"class":"dxm-legend"}),n.layoutControl.addItem(i),u.apply(i,[{renderer:n.renderer,group:i._root,backgroundClass:null,itemsGroupClass:null,textField:"text",getFormatObject:function(n){return n}}]),i._onDataChanged=function(n){var r=t.map(n,function(n){return s(!0,{states:{normal:{fill:n.color}}},n)});i.update(r,i._options),i._refresh()}}function o(n){this._parameters=n,this._items=[]}var l=String,a=n.utils.isArray,s=t.extend,f=t.each,u=n.viz.core.Legend,r=e.prototype=n.utils.clone(u.prototype),h,c;r.constructor=e,r.dispose=function(){var n=this;return n._params.layoutControl.removeItem(n),n._unbindData(),n._params=n._root=n._onDataChanged=null,u.prototype.dispose.apply(n,arguments)},r.clean=function(){return this._rendered=!1,this._root.remove(),this},r.render=function(){var n=this;return n._root.append(n._params.container),n._rendered=!0,n._refresh(),n},r.resize=function(n){return n===null?this.erase():this.setSize(n).draw(),this},r.locate=u.prototype.shift,r._unbindData=function(){this._dataCategory&&this._params.dataExchanger.unbind(this._dataCategory,this._dataName)},r._bindData=function(n){this._params.dataExchanger.bind(this._dataCategory=n.category,this._dataName=n.name,this._onDataChanged)},h={areacolorgroups:{category:"areas",name:"color"},markercolorgroups:{category:"markers",name:"color"},markersizegroups:{category:"markers",name:"size"}},c={category:"UNKNOWN",name:"UNKNOWN"},r.setOptions=function(n){var t=this;return t.update(t._data,n),t._unbindData(),t._bindData(h[l(n.source).toLowerCase()]||c),t._refresh(),t},r._refresh=function(){this._rendered&&this.updateLayout()},o.prototype={constructor:o,dispose:function(){return f(this._items,function(n,t){t.dispose()}),this._parameters=this._items=null,this},setOptions:function(n,t){for(var u=a(n)?n:[],i=0,r=u.length,o,h=[],f=this._items,r=u.length;i<r;++i)o=(f[i]||new e(this._parameters)).setOptions(s(!0,{},t,u[i])),h.push(o);for(r=f.length;i<r;++i)f[i].clean().dispose();this._items=h},clean:function(){return f(this._items,function(n,t){t.clean()}),this},render:function(){return f(this._items,function(n,t){t.render()}),this}},n.viz.map.dxVectorMap.prototype._factory.createLegendsControl=function(n){return new o(n)}}(DevExpress,jQuery),function(n){var i=n.viz.core.Tooltip.inherit({ctor:function(n){var t=this;t._container=n.container,t._root=n.renderer.g().attr({"class":"dxm-tooltip"}),t.callBase($.extend({group:t._root},n))},dispose:function(){var n=this;return n._container=n._root=null,n.callBase.apply(n,arguments)},clean:function(){return this._root.remove(),this},setOptions:function(n){return n.border.color=n.borderColor||n.border.color,this.update(n),this},render:function(){return this._root.append(this._container),this}});n.viz.map.dxVectorMap.prototype._factory.createTooltip=function(n){return new i(n)}}(DevExpress),function(n,t){function a(n){return l[n.verticalAlignment]*3+c[n.horizontalAlignment]}function v(n,t){var h=(n.right-n.left)/3,p=(n.bottom-n.top)/2,f=n.left,e=u(f+h),o=u(f+h+h),v=n.right,s=n.top,i=u(s+p),c=n.bottom,y=[{rect:[f,s,e,i]},{rect:[e,s,o,i],center:!0},{rect:[o,s,v,i],horInv:!0},{rect:[f,i,e,c],verInv:!0},{rect:[e,i,o,c],center:!0,verInv:!0},{rect:[o,i,v,c],horInv:!0,verInv:!0}],l=[[],[],[],[],[],[]];return r(t,function(n,t){var i=t.getLayoutOptions();i&&l[a(i)].push({item:t,width:i.width,height:i.height})}),r(y,function(n,t){l[n].length?t.items=l[n]:(t.center?t.rect[0]=t.rect[2]=(t.rect[0]+t.rect[2])/2:t.rect[t.horInv?0:2]=t.rect[t.horInv?2:0],t.rect[t.verInv?1:3]=t.rect[t.verInv?3:1])}),y}function y(n){r([0,1,2,3,4,5],function(t,i){var r=n[i],u=n[(i+3)%6];r.items&&(u.items||(r.rect[1]=e(r.rect[1],u.rect[3]),r.rect[3]=f(r.rect[3],u.rect[1])))}),r([1,4],function(t,i){var r=n[i],e=n[i-1],o=n[i+1],u,f;r.items?e.items||o.items||(u=r.rect[0]-e.rect[2],f=o.rect[0]-r.rect[2],u>f?u/f>=2?(r.rect[0]-=u,r.right=!0):(r.rect[0]-=f,r.rect[2]+=f):f/u>=2?(r.rect[2]+=f,r.center=null):(r.rect[0]-=u,r.rect[2]+=u)):(e.items&&(e.rect[2]=(r.rect[0]+r.rect[2])/2),o.items&&(o.rect[0]=(r.rect[0]+r.rect[2])/2))})}function s(n,t){var i=!1;return y(n),r(n,function(n,r){r.items&&(i=p(r,t)||i)}),i}function p(n,t){var i=n.rect,w=i[2]-i[0],b=i[3]-i[1],o=0,c=0,l=0,s=i[2],y=i[3],h=i[0],p=i[1],a=[],v=!1;return r(n.items,function(r,u){if(u.width>w||u.height>b||(o+u.width>w&&(c+=l,o=l=0),c+u.height>b))return a.push(null),v=!0,t||!1;l=f(l,u.height);var k=n.horInv?i[2]-u.width-o:i[0]+o,d=n.verInv?i[3]-u.height-c:i[1]+c;o+=u.width,s=e(s,k),y=e(y,d),h=f(h,k+u.width),p=f(p,d+u.height),a.push([k,d])}),(t||!v)&&(o=0,n.right?o=i[2]-i[0]-h+s:n.center&&(o=u((i[2]-i[0]-h+s)/2)),r(n.items,function(n,t){var i=a[n];i?t.item.locate(i[0]+o,i[1]):t.item.resize(null)}),n.rect=[s,y,h,p],n.items=null),v}function w(n,t){var i=v(n,t);s(i)&&s(i,!0)}function o(){var n=this;n._items=[],n._suspended=!0,n._updateLayout=function(){n._update()}}var u=Math.round,e=Math.min,f=Math.max,r=t.each,h=t.inArray,c={left:0,center:1,right:2},l={top:0,bottom:1};o.prototype={constructor:o,dispose:function(){return this._items=this._updateLayout=null,this},setSize:function(n,t){return this._size={width:n,height:t},this._update(),this},stop:function(){return this._suspended=!0,this},start:function(){return this._suspended=null,this._update(),this},addItem:function(n){return this._items.push(n),n.updateLayout=this._updateLayout,this},removeItem:function(n){return this._items.splice(h(n,this._items),1),n.updateLayout=null,this},_update:function(){if(!this._suspended){var n=this._size;r(this._items,function(t,i){i.resize(n)}),w({left:0,top:0,right:n.width,bottom:n.height},this._items)}}},n.viz.map.dxVectorMap.prototype._factory.createLayoutControl=function(){return new o}}(DevExpress,jQuery),function(n,t){function d(n,t,i){n.raiseHoverChanged=function(n,r){t(i.hoverChanged,{target:n.proxy,state:r})},n.raiseSelectionChanged=function(n){t(i.selectionChanged,{target:n.proxy})}}function f(n,t,i,r,u){var f=this;f._ctx=n,i=w({},i),f.proxy={index:r,type:u,coordinates:function(){return t},attribute:function(n,t){return arguments.length>1?(i[n]=t,this):arguments.length>0?i[n]:i},selected:function(n,t){return arguments.length>0?(f.setSelected(!!n,t),this):f._selected}}}function e(n){r(n,function(t){n[t]=null})}function nt(n){var t,r,i=null;if(s(n)&&n.length>1)for(i=[],t=0,r=n.length-1;t<r;++t)i.push({start:o(n[t]),end:o(n[t+1])});return i}function tt(n,t){for(var u,i=0,r=t.length;i<r;++i)if(t[i].start<=n&&n<=t[i].end)return i;return-1}var o=Number,l=String,a=isFinite,v=n.utils.isString,s=n.utils.isArray,y=n.utils.isFunction,p=n.viz.core.utils.patchFontOptions,w=t.extend,r=t.each,h=t.map,b=t.noop,c="none",u="single",k="multiple",g=n.Class.inherit({_rootClass:null,ctor:function(n){var t=this;t._params=n,t._init();n.projection.on({project:function(){t._reproject()},transform:function(n){t._transform(n),t._relocate()},center:function(n,i){t._transform(i)},zoom:function(n,i){t._transform(i),t._relocate()}})},_init:function(){var n=this;n._context={renderer:n._params.renderer,projection:n._params.projection,dataKey:n._params.dataKey,getItemSettings:function(t,i){return n._getItemSettings(t,i)}},n._initRoot(),d(n._context,n._params.eventTrigger,n._eventNames)},_initRoot:function(){this._context.root=this._root=this._params.renderer.g().attr({"class":this._rootClass})},dispose:function(){var n=this;return n._destroyHandles(),n._params=n._context=null,n._disposeRoot(),n},_disposeRoot:function(){this._root=null},clean:function(){var n=this;return n._destroyItems(),n._removeRoot(),n._rendered=!1,n},_removeRoot:function(){this._root.remove()},setOptions:function(n){var t=this;return t._processOptions(n||{}),t._params.notifyDirty(),t._destroyItems(),t._createItems(t._params.notifyReady),t},render:function(){var n=this;return n._rendered=!0,n._params.notifyDirty(),n._appendRoot(),n._createItems(n._params.notifyReady,!0),n},_processOptions:function(n){var f=this,i=f._commonSettings=f._getCommonSettings(n),r=f._context,t=l(i.selectionMode).toLowerCase();f._customizeCallback=y(i.customize)?i.customize:b,r.isHoverEnabled="hoverEnabled"in i?!!i.hoverEnabled:!0,t=t===c||t===u||t===k?t:u,r.isSelectionEnabled=t!==c,r.isSingleSelection=t===u,r.selected=r.isSingleSelection?null:{}},_getCommonSettings:null,_appendRoot:function(){this._root.append(this._params.container)},_destroyItems:function(){var n=this;n._clearRoot(),clearTimeout(n._labelsTimeout),n._rendered&&n._handles&&r(n._handles,function(n,t){t.item&&(t.item.dispose(),t.item=null)})},_clearRoot:function(){this._root.clear()},_destroyHandles:function(){this._handles&&r(this._handles,function(n,t){t.dispose()}),this._handles=null},_itemType:null,_initProxy:null,_getItemSettings:null,_createItem:null,_arrangeItems:null,_updateGrouping:null,_createHandles:function(n){var t=this;s(n)&&(t._handles=h(n,function(n,i){n=n||{};var r=new f(t._context,t._getItemCoordinates(n),t._getItemAttributes(n),i,t._itemType),u=r.proxy;return t._initProxy(u,n),r.settings=t._customizeCallback.call(u,u)||{},r.settings.isSelected&&u.selected(!0),r}))},_createItems:function(n,t){var i=this,u=[],f=!0;i._handles&&!t&&i._updateGrouping(),i._rendered&&i._handles&&(r(i._handles,function(n,t){t.item=i._createItem(t.proxy).init(i._context,t.proxy).project().update(t.settings).locate(),t.proxy.selected()&&u.push(t.item)}),r(u,function(n,t){t.setSelectedState()}),i._arrangeItems(),i._commonSettings.label.enabled&&(f=!1,clearTimeout(i._labelsTimeout),i._labelsTimeout=setTimeout(function(){r(i._handles,function(n,t){t.item.createLabel()}),n()}))),f&&n()},_processSource:null,setData:function(n){function r(n){i._rendered&&i._params.tracker.reset(),i._destroyItems(),i._destroyHandles(),i._createHandles(i._processSource(n)),i._createItems(i._params.notifyReady)}var i=this;return i._params.notifyDirty(),v(n)?t.getJSON(n).done(r).fail(function(){r(null)}):r(n),i},_transform:function(n){this._root.attr(n)},_reproject:function(){this._rendered&&this._handles&&r(this._handles,function(n,t){t.item.project().locate()})},_relocate:function(){this._rendered&&this._handles&&r(this._handles,function(n,t){t.item.locate()})},hoverItem:function(n,t){return this._handles[n].setHovered(t),this},selectItem:function(n,t,i){return this._handles[n].setSelected(t,i),this},clearSelection:function(){var n=this._context;return n.isSelectionEnabled&&(n.isSingleSelection?n.selected&&n.selected.setSelected(!1):(r(n.selected,function(n,t){t&&t.setSelected(!1)}),n.selected={})),this},raiseClick:function(n,t){return this._params.eventTrigger(this._eventNames.click,{target:this._handles[n].proxy,jQueryEvent:t}),this},getProxyItems:function(){return h(this._handles,function(n){return n.proxy})},getProxyItem:function(n){return this._handles[n].proxy},_performGrouping:function(n,t,i,u){var f=nt(n),e;f&&(e=u(f.length),r(this._handles,function(n,r){var u,o;a(u=i(r,n))&&(o=tt(u,f))>=0&&(r.settings[t]=e[o])}),r(f,function(n,i){i.index=n,i[t]=e[n]}),this._params.dataExchanger.set(this._dataCategory,t,f))},_groupByColor:function(t,i,r){this._performGrouping(t,"color",r,function(t){for(var f=new n.viz.core.GradientPalette(i,t),r=0,u=[];r<t;++r)u.push(f.getColor(r));return u})}});n.viz.map._internal.mapItemBehavior={init:function(n,t){var i=this;return i._ctx=n,i._data={index:t.index,type:t.type},i._proxy=t,i._root=i._createRoot().append(i._ctx.root),i},dispose:function(){return e(this),this},project:function(){var n=this;return n._coords=n._project(n._ctx.projection,n._proxy.coordinates()),this},locate:function(){var n=this;return n._locate(n._transform(n._ctx.projection,n._coords)),n._label&&n._label.value&&n._locateLabel(),n},update:function(n){var t=this;return t._settings=t._ctx.getItemSettings(t._proxy,n),t._update(t._settings),t._label&&t._updateLabel(),t},createLabel:function(){var n=this,t=n._createLabelRoot();return n._label={root:t,text:n._ctx.renderer.text().append(t),tracker:n._ctx.renderer.rect().attr({stroke:"none","stroke-width":0,fill:"#000000",opacity:.0001}).data(n._ctx.dataKey,n._data).append(t)},n._updateLabel(),n},_updateLabel:function(){var n=this,t=n._settings.label;n._label.value=n._getLabelText(),n._label.value&&(n._label.text.attr({text:n._label.value,x:0,y:0}).css(p(t.font)).attr({align:"center",stroke:t.stroke,"stroke-width":t["stroke-width"],"stroke-opacity":t["stroke-opacity"]}),n._adjustLabel(),n._locateLabel())}},f.prototype={constructor:f,_hovered:!1,_selected:!1,dispose:function(){return e(this.proxy),e(this),this},setHovered:function(n){var t=this,i;return t._ctx.isHoverEnabled?(t._hovered!==!!n&&(t._hovered=!!n,i=t.item,i&&(t._hovered&&i.onHover(),t._selected||(i[t._hovered?"setHoveredState":"setDefaultState"](),t._ctx.raiseHoverChanged(t,t._hovered)))),t):t},setSelected:function(n,t){var i=this,r=i._ctx,u,f;return r.isSelectionEnabled?(i._selected!==!!n&&(i._selected=!!n,u=r.selected,r.isSingleSelection?(r.selected=null,u&&u.setSelected(!1),i._selected&&(r.selected=i)):r.selected[i.proxy.index]=i._selected?i:null,f=i.item,f&&(f[i._selected?"setSelectedState":i._hovered?"setHoveredState":"setDefaultState"](),t||r.raiseSelectionChanged(i))),i):i}},n.viz.map.dxVectorMap.prototype._factory.MapItemsManager=g}(DevExpress,jQuery),function(n,t,i){function c(n){return n.coordinates}function l(n){var t,r;return n.geometry&&(r=n.geometry.type,t=n.geometry.coordinates,t&&(r==="Polygon"||r==="MultiPolygon")?r==="MultiPolygon"&&(t=[].concat.apply([],t)):t=i),t}function a(n){return n.attributes}function v(n){return n.properties}function u(){}function y(n){for(var f=0,h=n.length,i,t=n[h-1],u,e=0,o=0,r=0;f<h;++f)i=t,t=n[f],u=i[0]*t[1]-t[0]*i[1],r+=u,e+=(i[0]+t[0])*u,o+=(i[1]+t[1])*u;return r/=2,e/=6*r,o/=6*r,{coords:[e,o],area:s(r)}}function p(n){for(var i=0,f=n.length,t,r,u=0;i<f;++i)t=y(n[i]),t.area>u&&(u=t.area,r=t);return r}var o=String,s=Math.abs,h=Math.sqrt,r=t.noop,f=1,e=n.viz.map.dxVectorMap.prototype._factory.MapItemsManager.inherit({_rootClass:"dxm-areas",_dataCategory:"areas",_eventNames:{click:"areaClick",hoverChanged:"areaHoverChanged",selectionChanged:"areaSelectionChanged"},_initRoot:function(){var n=this;n.callBase.apply(n,arguments),n._context.labelRoot=n._labelRoot=n._params.renderer.g().attr({"class":"dxm-area-labels"})},_disposeRoot:function(){this.callBase.apply(this,arguments),this._labelRoot=null},_processSource:function(n){var t=n&&n.type==="FeatureCollection";return this._getItemCoordinates=t?l:c,this._getItemAttributes=t?v:a,t?n.features:n},_getCommonSettings:function(n){return this._params.themeManager.getCommonAreaSettings(n)},_initProxy:r,_itemType:"area",_removeRoot:function(){this.callBase.apply(this,arguments),this._labelRoot.remove()},_appendRoot:function(){var n=this;n.callBase.apply(n,arguments),n._commonSettings.label.enabled&&n._labelRoot.append(n._params.container)},_clearRoot:function(){this.callBase.apply(this,arguments),this._labelRoot.clear()},_getItemSettings:function(n,t){return this._params.themeManager.getAreaSettings(this._commonSettings,t)},_transform:function(n){this.callBase.apply(this,arguments),this._labelRoot.attr(n)},_createItem:function(){return new u},_updateGrouping:function(){var n=this._commonSettings,t=n.colorGroupingField;n.colorGroups&&this._groupByColor(n.colorGroups,n.palette,function(n){return n.proxy.attribute(t)})},_arrangeItems:r});t.extend(u.prototype,n.viz.map._internal.mapItemBehavior,{_project:function(n,t){return n.projectArea(t)},_createRoot:function(){return this._ctx.renderer.path([],"area").data(this._ctx.dataKey,this._data)},_update:function(n){return this._styles={normal:{"class":"dxm-area",stroke:n.borderColor,"stroke-width":n.borderWidth,fill:n.color},hovered:{"class":"dxm-area dxm-area-hovered",stroke:n.hoveredBorderColor,"stroke-width":n.hoveredBorderWidth,fill:n.hoveredColor},selected:{"class":"dxm-area dxm-area-selected",stroke:n.selectedBorderColor,"stroke-width":n.selectedBorderWidth,fill:n.selectedColor}},this._root.attr(this._styles.normal),this},_transform:function(n,t){return n.getAreaCoordinates(t)},_locate:function(n){this._root.attr({points:n})},onHover:r,setDefaultState:function(){this._root.attr(this._styles.normal).toBackground()},setHoveredState:function(){this._root.attr(this._styles.hovered).toForeground()},setSelectedState:function(){this._root.attr(this._styles.selected).toForeground()},_createLabelRoot:function(){return this._ctx.renderer.g().attr({"class":"dxm-area-label"}).append(this._ctx.labelRoot)},_getLabelText:function(){return o(this._proxy.text||this._proxy.attribute(this._settings.label.dataField)||"")},_adjustLabel:function(){var t=this,i=p(t._coords),n=t._label.text.getBBox(),r=-n.y-n.height/2;t._centroid=i.coords,t._areaSize=h(i.area),t._labelSize=[n.width,n.height],t._label.text.attr({y:r}),t._label.tracker.attr({x:n.x,y:n.y+r,width:n.width,height:n.height})},_locateLabel:function(){var n=this,t=n._ctx.projection.getPointCoordinates(n._centroid),i=n._ctx.projection.getSquareSize([n._areaSize,n._areaSize]);n._label.root.attr({translateX:t.x,translateY:t.y,visibility:n._labelSize[0]/i[0]<f&&n._labelSize[1]/i[1]<f?null:"hidden"})}}),n.viz.map._internal.AreasManager=e,n.viz.map._internal.Area=u,n.viz.map.dxVectorMap.prototype._factory.createAreasManager=function(n){return new e(n)}}(DevExpress,jQuery),function(n,t,i){function b(){}function k(){}function d(){}function g(){}function nt(n,t){var i=v(n).toLowerCase();return a[i]?i:t}var r=Number,v=String,f=isFinite,o=Math,y=o.round,tt=o.max,it=o.min,u=t.extend,s=t.each,rt=n.utils.isArray,p="dxm-marker",ut="dxm-marker dxm-marker-hovered",ft="dxm-marker dxm-marker-selected",w="dot",h="bubble",c="pie",et="image",l=null,a={},ot=n.viz.map.dxVectorMap.prototype._factory.MapItemsManager.inherit({_rootClass:"dxm-markers",_dataCategory:"markers",_eventNames:{click:"markerClick",hoverChanged:"markerHoverChanged",selectionChanged:"markerSelectionChanged"},_init:function(){var n=this;n.callBase.apply(n,arguments),n._context.getPieColors=function(t){return n._params.themeManager.getPieColors(n._commonSettings,t)},n._filter=n._params.renderer.shadowFilter("-40%","-40%","180%","200%",0,1,1,"#000000",.2)},_dispose:function(){this.callBase.apply(this,arguments),this._filter.dispose(),this._filter=null},_getItemCoordinates:function(n){return n.coordinates},_getItemAttributes:function(n){return n.attributes},_processSource:function(n){return n},_getCommonSettings:function(n){return this._params.themeManager.getCommonMarkerSettings(n)},_processOptions:function(n){var t=this;t.callBase.apply(t,arguments),t._commonSettings._filter=t._filter.ref,t._commonType=nt(n&&n.type,l)},_arrangeBubbles:function(){var o=this._handles,i=[],t,r=o.length,n,u=[],e,s,c;if(!this._commonSettings._bubble.sizeGroups){for(t=0;t<r;++t)n=o[t],n.item.type===h&&(i.push(n),f(n.proxy.value)&&u.push(n.proxy.value));for(e=it.apply(null,u),s=tt.apply(null,u),c=s-e||1,t=0,r=i.length;t<r;++t)n=i[t],n.item.setSize(f(n.proxy.value)?(n.proxy.value-e)/c:0)}},_itemType:"marker",_initProxy:function(n,t){s(t,function(t,r){n[t]===i&&(n[t]=r)}),n._TYPE=nt(t.type,null)},_getItemSettings:function(n,t){var r=n._TYPE||this._commonType,i=this._params.themeManager.getMarkerSettings(this._commonSettings,u({},n.style,t),r);return n.text=n.text||i.text,i},_createItem:function(n){return new a[n._TYPE||this._commonType]},_updateGrouping:function(){var i=this,t=i._commonType,u,n=i._commonSettings["_"+t];(t===w||t===h)&&n.colorGroups&&(u=n.colorGroupingField,i._groupByColor(n.colorGroups,n.palette,function(n){var i=n.proxy;return!i._TYPE||i._TYPE===t?i.attribute(u):NaN})),t===c&&i._updateLegendForPies(),n.sizeGroups&&(u=n.sizeGroupingField,i._performGrouping(n.sizeGroups,"size",function(n){var i=n.proxy;return!i._TYPE||i._TYPE===t?i.value||i.attribute(u):NaN},function(t){for(var u=n.minSize>0?r(n.minSize):0,e=n.maxSize>=u?r(n.maxSize):0,i=0,f=[],i=0;i<t;++i)f.push((u*(t-i-1)+e*i)/(t-1));return f}))},_updateLegendForPies:function(){var n=0;s(this._handles,function(t,i){var u=i.proxy,r;u._TYPE&&u._TYPE!==c||(r=u.values,r&&r.length>n&&(n=r.length))}),this._params.dataExchanger.set(this._dataCategory,"color",t.map(this._context.getPieColors(n).slice(0,n),function(n,t){return{index:t,color:n}}))},_arrangeItems:function(){this._arrangeBubbles()}}),e=u({},n.viz.map._internal.mapItemBehavior,{_project:function(n,t){return n.projectPoint(t)},_createRoot:function(){return this._ctx.renderer.g()},_update:function(n){var t=this;return t._root.attr({"class":p}).clear(),t._create(n,t._ctx.renderer,t._root),t},_transform:function(n,t){return n.getPointCoordinates(t)},_locate:function(n){this._root.attr({translateX:n.x,translateY:n.y})},onHover:function(){this._root.toForeground()},setDefaultState:function(){this._root.attr({"class":p}).toBackground(),this._applyDefault()},setHoveredState:function(){this._root.attr({"class":ut}),this._applyHovered()},setSelectedState:function(){this._root.attr({"class":ft}).toForeground(),this._applySelected()},_createLabelRoot:function(){return this._root},_getLabelText:function(){return v(this._proxy.text||"")},_adjustLabel:function(){var n=this._label.text.getBBox(),t=y(-n.x+this._size/2)+2,i=y(-n.y-n.height/2)-1;this._label.text.attr({x:t,y:i}),this._label.tracker.attr({x:t+n.x-1,y:i+n.y-1,width:n.width+2,height:n.height+2})},_locateLabel:t.noop});u(b.prototype,e,{type:w,_create:function(n,t,i){var u=this,f=u._size=n.size>0?r(n.size):0,e=f,o=f+(n.selectedStep>0?r(n.selectedStep):0),h=e+(n.backStep>0?r(n.backStep):0),c=o+(n.backStep>0?r(n.backStep):0),s=f/2;u._dotDefault={cx:0,cy:0,r:s,stroke:n.borderColor,"stroke-width":n.borderWidth,fill:n.color,filter:n.shadow?n._filter:null},u._dotHovered={cx:0,cy:0,r:e/2,stroke:n.hoveredBorderColor,"stroke-width":n.hoveredBorderWidth,fill:n.hoveredColor},u._dotSelected={cx:0,cy:0,r:o/2,stroke:n.selectedBorderColor,"stroke-width":n.selectedBorderWidth,fill:n.selectedColor},u._backDefault={cx:0,cy:0,r:s,stroke:"none","stroke-width":0,fill:n.backColor,opacity:n.backOpacity},u._backHovered={cx:0,cy:0,r:h/2,stroke:"none","stroke-width":0,fill:n.backColor,opacity:n.backOpacity},u._backSelected={cx:0,cy:0,r:c/2,stroke:"none","stroke-width":0,fill:n.backColor,opacity:n.backOpacity},u._back=t.circle().sharp().attr(u._backDefault).data(u._ctx.dataKey,u._data).append(i),u._dot=t.circle().sharp().attr(u._dotDefault).data(u._ctx.dataKey,u._data).append(i)},_destroy:function(){this._back=this._dot=null},_applyDefault:function(){this._back.attr(this._backDefault),this._dot.attr(this._dotDefault)},_applyHovered:function(){this._back.attr(this._backHovered),this._dot.attr(this._dotHovered)},_applySelected:function(){this._back.attr(this._backSelected),this._dot.attr(this._dotSelected)}}),u(k.prototype,e,{type:h,_create:function(n,t,i){var u=this;u._minSize=n.minSize>0?r(n.minSize):0,u._maxSize=n.maxSize>u._minSize?r(n.maxSize):u._minSize,u.value=f(u._proxy.value)?r(u._proxy.value):null,u._default={stroke:n.borderColor,"stroke-width":n.borderWidth,fill:n.color,opacity:n.opacity},u._hovered={stroke:n.hoveredBorderColor,"stroke-width":n.hoveredBorderWidth,fill:n.hoveredColor,opacity:n.hoveredOpacity},u._selected={stroke:n.selectedBorderColor,"stroke-width":n.selectedBorderWidth,fill:n.selectedColor,opacity:n.selectedOpacity},u._bubble=t.circle(0,0,(n.size||n.maxSize)/2).sharp().attr(u._default).data(u._ctx.dataKey,u._data).append(i)},_applyDefault:function(){this._bubble.attr(this._default)},_applyHovered:function(){this._bubble.attr(this._hovered)},_applySelected:function(){this._bubble.attr(this._selected)},setSize:function(n){var t=this,i=(t._minSize+n*(t._maxSize-t._minSize))/2;return t._default.r=t._hovered.r=t._selected.r=i,t._size=2*i,t._bubble.attr({r:i}),t}}),u(d.prototype,e,{type:c,_create:function(t,i,u){var e=this,a=(t.size>0?r(t.size):0)/2,c,o=0,l,h,s,w=0,v,y,p,b;for(e._size=2*a,e._pieDefault={opacity:t.opacity},e._pieHovered={opacity:t.hoveredOpacity},e._pieSelected={opacity:t.selectedOpacity},e._borderDefault={stroke:t.borderColor,"stroke-width":t.borderWidth},e._borderHovered={stroke:t.hoveredBorderColor,"stroke-width":t.hoveredBorderWidth},e._borderSelected={stroke:t.selectedBorderColor,"stroke-width":t.selectedBorderWidth},c=e._proxy.values,l=rt(c)?c.length:0,h=[];o<l;++o)s=r(c[o]),f(s)&&(h.push(s),w+=s);for(e._pie=i.g().attr(e._pieDefault),v=new n.viz.core.Translator1D(0,w,90,450),y=v.translate(0),b=e._ctx.getPieColors(h.length),s=0,o=0,l=h.length;o<l;++o)s+=h[o],p=v.translate(s),i.arc(0,0,0,a,y,p).attr({"stroke-linejoin":"round",fill:b[o]}).data(e._ctx.dataKey,e._data).append(e._pie),y=p;e._pie.append(u),e._border=i.circle(0,0,a).sharp().attr(e._borderDefault).data(e._ctx.dataKey,e._data).append(u)},_applyDefault:function(){this._pie.attr(this._pieDefault),this._border.attr(this._borderDefault)},_applyHovered:function(){this._pie.attr(this._pieHovered),this._border.attr(this._borderHovered)},_applySelected:function(){this._pie.attr(this._pieSelected),this._border.attr(this._borderSelected)}}),u(g.prototype,e,{type:et,_create:function(n,t,i){var u=this,f=u._size=n.size>0?r(n.size):0,e=f+(n.hoveredStep>0?r(n.hoveredStep):0),o=f+(n.selectedStep>0?r(n.selectedStep):0);u._default={x:-f/2,y:-f/2,width:f,height:f},u._hovered={x:-e/2,y:-e/2,width:e,height:e},u._selected={x:-o/2,y:-o/2,width:o,height:o},u._image=t.image().attr(u._default).attr({href:u._proxy.url,location:"center"}).append(i),u._tracker=t.rect().attr(u._default).attr({stroke:"none","stroke-width":0,fill:"#000000",opacity:.0001}).data(u._ctx.dataKey,u._data).append(i)},_applyDefault:function(){this._image.attr(this._default),this._tracker.attr(this._default)},_applyHovered:function(){this._image.attr(this._hovered),this._tracker.attr(this._hovered)},_applySelected:function(){this._image.attr(this._selected),this._tracker.attr(this._selected)}}),s([b,k,d,g],function(n,t){l=l||t.prototype.type,a[t.prototype.type]=t}),n.viz.map.dxVectorMap.prototype._factory.createMarkersManager=function(n){return new ot(n)}}(DevExpress,jQuery),DevExpress.MOD_VIZ_VECTORMAP=!0}