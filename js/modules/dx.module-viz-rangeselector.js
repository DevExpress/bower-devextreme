/*! 
* DevExtreme (Range Selector)
* Version: 15.1.5
* Build date: Jul 15, 2015
*
* Copyright (c) 2012 - 2015 Developer Express Inc. ALL RIGHTS RESERVED
* EULA: https://www.devexpress.com/Support/EULAs/DevExtreme.xml
*/
"use strict";if(!DevExpress.MOD_VIZ_RANGESELECTOR){if(!DevExpress.MOD_VIZ_CORE)throw Error("Required module is not referenced: viz-core");(function(n){n.viz.rangeSelector={}})(DevExpress),function(n,t,i){var u=t.utils,r=function(n,t){var r,i,u;if(!n||n.length===0)return-1;for(r=0,i=n.length-1;i-r>1;)u=r+i>>1,n[u]>t?i=u:r=u;return n[i]<=t?i:r},f=function(n,t){var i=r(n,t);return n&&i>=0&&i<n.length?n[i]:t},e=function(n,t){var i=r(n,t);return n&&i>=0&&i<n.length?(i+1<n.length&&(u.isDate(t)?n[i+1].getTime()-t.getTime()<t.getTime()-n[i].getTime()&&i++:n[i+1]-t<t-n[i]&&i++),n[i]):t},o=function(n,t){var i=r(n,t);return n&&i>=0&&i<n.length?(n[i]<t&&i+1<n.length&&i++,n[i]):t},s=function(n){var t=0;return n.pageX?t=n.pageX:n.originalEvent&&n.originalEvent.pageX&&(t=n.originalEvent.pageX),n.originalEvent&&n.originalEvent.touches&&(n.originalEvent.touches.length>0?t=n.originalEvent.touches[0].pageX:n.originalEvent.changedTouches.length>0&&(t=n.originalEvent.changedTouches[0].pageX)),t},h=function(t,r){var s=r.type==="discrete",c=s?r._categoriesInfo.categories:i,u=r.startValue,f=r.endValue,e,o,h;return s?(h=n.inArray(t,c),h<0?u:t):(e=u>f?f:u,o=u>f?u:f,t<e&&(t=e),t>o&&(t=o),t)};t.viz.rangeSelector.utils={findLessOrEqualValue:f,findNearValue:e,findGreaterOrEqualValue:o,getEventPageX:s,truncateSelectedRange:h,trackerSettings:{fill:"grey",stroke:"grey",opacity:.0001},animationSettings:{duration:250}}}(jQuery,DevExpress),function(n){n.viz.rangeSelector.baseVisualElementMethods={init:function(n){this._renderer=n,this._isDrawn=!1},applyOptions:function(n){this._options=n||{},this._applyOptions(this._options)},_applyOptions:function(){},redraw:function(n){var t=this;t._isDrawn?t._update(n||t._group):(t._isDrawn=t._draw(n||t._group)!==!1,n&&(t._group=n))},isDrawn:function(){return!!this._isDrawn},isInitialized:function(){return!!this._options},_draw:function(){},_update:function(n){n.clear(),this._draw(n)}}}(DevExpress),function(n,t,i){function c(n){return{startValue:n.startValue,endValue:n.endValue}}function g(n,t,i){var r=n.text(t,ht,ht).css(nt(i)).append(n.root),u=r.getBBox();return r.remove(),u}function pt(n,t,i,u){var f,o=n[i],h=t.parser||function(){return null},s=t[i];return r(o)&&(f=h(o)),r(f)?s=f:u("E2203",[i]),e.utils.truncateSelectedRange(s,t)}var e=t.viz.rangeSelector,u=t.utils,f=t.viz.core,nt=f.utils.patchFontOptions,wt=f.ParseUtils,y=t.formatHelper,bt=5,kt=24,tt=4,it=". . .",r=u.isDefined,o=u.isNumber,l=u.isDate,dt=Math.max,rt=Math.ceil,s=n.noop,p="startValue",ut="endValue",a="datetime",h="selectedRange",w="discrete",v="string",b=h+"Changed",ft="containerBackgroundColor",et="sliderMarker",ot="background",st="logarithmic",ht=-1e3,gt=10;e.consts={emptySliderMarkerText:it,pointerSize:tt};var k=e.formatValue=function(n,t){var i={value:n,valueText:y.format(n,t.format,t.precision)};return String(u.isFunction(t.customizeText)?t.customizeText.call(i,i):i.valueText)},ni=function(n,t){return{x:f.CoreFactory.createTranslator2D(n.arg,t,{direction:"horizontal"}),y:f.CoreFactory.createTranslator2D(n.val,t)}},ti=function(n,t,i){return{left:t.left,top:t.top,right:n.width-t.width-t.left,bottom:n.height-t.height-t.top+i,width:n.width,height:n.height}},ct=function(n,t,r){var u=t===i?it:k(t,r),f=g(n,u,r.font);return rt(f.height)+2*r.paddingTopBottom+tt},lt=function(n,t,i){var r=k(t,i.label),u=g(n,r,i.label.font);return rt(u.width/2)},ii=function(n,t,i,r){var u={left:n.left+t.left,top:n.top+t.top,width:n.width-n.left-n.right-t.left-t.right,height:r?kt+i:n.height-n.top-n.bottom-t.top};return u.width<=0&&(u.width=1),u},ri=function(n){var t,i,r;if(o(n))t=i=r=n;else if(n)o(n.height)&&(r=n.height),o(n.width)?t=i=n.width:n.width&&(o(n.width.left)&&(t=n.width.left),o(n.width.right)&&(i=n.width.right));else return null;return{widthLeft:t,widthRight:i,height:r}},ui=function(n,t,r,u,f){var c,l=0,a=0,v,e=0,o=0,h,s;return f=f||{},s=ri(u.placeholderSize),s&&f.left===i&&f.right===i?(e=s.widthLeft,o=s.widthRight):(e=f.left,o=f.right),h=s&&u.placeholderHeight===i?s.height:u.placeholderHeight,u.visible&&(c=ct(n,r.startValue,u),v=ct(n,r.endValue,u),h===i&&(h=dt(c,v))),r.label.visible&&(l=lt(n,r.startValue,r),a=lt(n,r.endValue,r)),e=e!==i?e:l,o=(o!==i?o:a)||1,{left:e,right:o,top:h||0,bottom:0}},at=function(t,i){var u=n.type(t),f=n.type(i),r=function(n){return u===n||f===n};return r("date")?a:r("number")?"numeric":r(v)?v:""},fi=function(n){return n.valueType===a&&n.marker.visible},ei=function(n,t){var i=t.minorTickInterval||t.majorTickInterval;t.valueType==="datetime"&&(i=u.dateToMilliseconds(i)),n=n.arg.addRange({interval:i})},d=function(n){return new f.Range(n)},vt=function(n,t,r){var u;n&&(u=n.logarithmBase,n.type===st&&u<=0||u&&!o(u)?(n.logarithmBase=t,r("E2104")):n.type!==st&&(n.logarithmBase=i))},oi=function(n,t,i){var f,e="0",o={value:0,valueText:e},r=t.label,s=t.marker,h=r.customizeText,c=t.placeholderHeight,l=u.isFunction(h)?h.call(o,o):e,a=r.visible;return c?c:(f=g(n,l,r.font),(a?r.topIndent+f.height:0)+(i?s.topIndent+s.separatorHeight:0))},si=function(n,t,i,r,u,e){var s=n._categoriesInfo,o=f.CoreFactory.createTickManager({axisType:n.type,dataType:n.valueType},{min:u,max:e,screenDelta:t,customTicks:s&&s.categories},{labelOptions:{},boundCoef:1,minorTickInterval:n.minorTickInterval,tickInterval:n.majorTickInterval,incidentOccured:i,base:n.logarithmBase,showMinorTicks:!0,withMinorCorrection:!0,stick:r!==!1});return o.getTicks(!0),{majorTickInterval:o.getTickInterval(),minorTickInterval:o.getMinorTickInterval(),bounds:o.getTickBounds()}},hi=function(n,t){var s,h,v=!1,p,f=t.startValue,e=t.endValue,a,o,c=n?n.getBoundRange():{arg:d(),val:d({isValueRange:!0})},y;return t.type===w&&(y=d({categories:t.categories||(!n&&f&&e?[f,e]:i),minVisible:f,maxVisible:e}),y.addRange(c.arg),c.arg=y,a=y.categories||[],t._categoriesInfo=o=u.getCategoriesInfo(a,f||a[0],e||a[a.length-1])),r(f)&&r(e)?(v=t.inverted=o?o.inverted:f>e,s=o?o.start:v?e:f,h=o?o.end:v?f:e):r(f)||r(e)?(s=f,h=e):o&&(s=o.start,h=o.end),p=l(s)&&l(h)&&s.getTime()===h.getTime(),s===h||p||c.arg.addRange({invert:v,min:s,max:h,minVisible:s,maxVisible:h,dataType:t.valueType}),c.arg.addRange({base:t.logarithmBase,axisType:t.type}),c.arg.isDefined()||(p&&(t.valueType="numeric"),c.arg.setStubData(t.valueType)),c},yt=function(n,t){return!r(n)||!r(t)};t.registerComponent("dxRangeSelector",e,f.BaseWidget.inherit({_eventsMap:n.extend({},f.BaseWidget.prototype._eventsMap,{onSelectedRangeChanged:{name:b,deprecated:b,deprecatedContext:function(){return null},deprecatedArgs:function(n){return[c(n)]}},selectedRangeChanged:{newName:"onSelectedRangeChanged"}}),_setDeprecatedOptions:function(){this.callBase(),n.extend(this._deprecatedOptions,{selectedRangeChanged:{since:"14.2",message:"Use the 'onSelectedRangeChanged' option instead"},"sliderMarker.padding":{since:"15.1",message:"Use the 'paddingTopBottom' and 'paddingLeftRight' options instead"},"sliderMarker.placeholderSize":{since:"15.1",message:"Use the 'placeholderHeight' and 'indent' options instead"}})},_rootClassPrefix:"dxrs",_rootClass:"dxrs-range-selector",_dataSourceOptions:function(){return{paginate:!1}},_dataIsReady:function(){return this._isDataSourceReady()},_init:function(){this.callBase(),this._reinitDataSource()},_initCore:function(){var n=this._renderer;this.rangeContainer=e.rangeSelectorFactory.createRangeContainer(n),n.root.css({"touch-action":"pan-y","-ms-touch-action":"pan-y"})},_getDefaultSize:function(){return{width:400,height:160}},_reinitDataSource:function(){this._refreshDataSource()},_disposeCore:function(){var n=this,t=function(t){n[t]&&n[t].dispose(),n[t]=null};n.callBase(),t("renderer"),n.translators=null,t("rangeContainer")},_createThemeManager:function(){return e.rangeSelectorFactory.createThemeManager()},_render:function(n){var t=this,r,i=t._renderer;n=n||t.__isResizing,n||t._scheduleLoadingIndicatorHiding(),t._applyOptions(),n?(r=i.animationEnabled(),i.updateAnimationOptions({enabled:!1}),t.rangeContainer.redraw(),i.updateAnimationOptions({enabled:r})):t.rangeContainer.redraw(),t._checkLoadingIndicatorHiding(!t._dataSource||t._dataSource.isLoaded()),t._drawn()},_optionChanged:function(n){var t=this,i=n.name;t._scheduleLoadingIndicatorHiding(),i==="dataSource"?t._reinitDataSource():i===h?t.setSelectedRange(t.option(h)):t.callBase(n)},_resize:function(){this._render(!0)},_dataSourceChangedHandler:function(){var n=this;n._endLoading(function(){n._renderer.drawn&&n._render()})},_applyOptions:function(){var n=this,u,t,f,e,r=n._canvas,a,v,w,o=n.option("chart"),y=n._getOption("shutter"),s=n._getOption(ot),p,i,l;n._isUpdating=!0,t=n._createSeriesDataSource(o),p=!(t&&t.isShowChart()||s&&s.image&&s.image.url),t&&(l=t.getThemeManager(),vt(o&&o.valueAxis,l.getOptions("valueAxis").logarithmBase,n._incidentOccured)),i=n._scaleOptions=n._prepareScaleOptions(t),f=hi(t,i),n._updateScaleOptions(t,f.arg,r.width),ei(f,i),v=n._prepareSliderMarkersOptions(r.width),w=n._initSelection(),a=ui(n._renderer,r,i,v,n.option("indent")),e=oi(n._renderer,i,fi(i)),u=ii(r,a,e,p),n.translators=ni(f,ti(r,u,e)),i.ticksInfo=n._getTicksInfo(u.width),t&&t.adjustSeriesDimensions(n.translators),y.color=y.color||n._getOption(ft,!0),n.rangeContainer.applyOptions({canvas:u,isCompactMode:p,scaleLabelsAreaHeight:e,indents:a,translators:n.translators,selectedRange:w,scale:i,behavior:n._getOption("behavior"),background:s,chart:o,seriesDataSource:t,sliderMarker:v,sliderHandle:n._getOption("sliderHandle"),shutter:y,selectedRangeColor:n._getOption("selectedRangeColor",!0),selectedRangeChanged:function(t,i){n.option(h,t),i||n._eventTrigger(b,c(t))},setSelectedRange:function(t){n.setSelectedRange(t)}}),n._isUpdating=!1,l&&l.dispose()},_initSelection:function(){var n=this,t=n._scaleOptions,i=n.option(h),r=n._incidentOccured;return i?{startValue:pt(i,t,p,r),endValue:pt(i,t,ut,r)}:c(t)},_createSeriesDataSource:function(t){var i=this,f,o=i._dataSource&&i._dataSource.items(),r=i._getOption("scale"),u=r.valueType,s=i.option(ot);return u||(u=at(r.startValue,r.endValue)),(o||t&&t.series)&&(t=n.extend({},t,{theme:i.option("theme")}),f=new e.SeriesDataSource({renderer:i._renderer,dataSource:o,valueType:(u||"").toLowerCase(),axisType:r.type,chart:t,dataSourceField:i.option("dataSourceField"),backgroundColor:s&&s.color,incidentOccured:i._incidentOccured,categories:r.categories})),f},_prepareScaleOptions:function(n){var e=this,t=e._getOption("scale"),o=0,s=new wt,u=s.correctValueType((t.valueType||"").toLowerCase()),f,h=function(n,u){var f=n===p?"start":"end";r(t[n])&&(o=u(t[n]),r(o)?t[n]=o:(t[n]=i,e._incidentOccured("E2202",[f])))};return n&&(u=n.getCalculatedValueType()||u),u||(u=at(t.startValue,t.endValue)||"numeric"),(u===v||t.categories)&&(t.type=w,u=v),t.valueType=u,f=s.getParser(u,"scale"),h(p,f),h(ut,f),vt(t,gt,e._incidentOccured),t.type||(t.type="continuous"),t.parser=f,t},_prepareSliderMarkersOptions:function(n){var e=this,f=e._scaleOptions,s=f.minorTickInterval,v=f.majorTickInterval,c=f.endValue,l=f.startValue,t=e._getOption(et),p,h=e.option(et)||{};return t.borderColor=e._getOption(ft,!0),t.format||(!e._getOption("behavior").snapToTicks&&o(f.startValue)&&(p=Math.abs(c-l),t.format="fixedPoint",t.precision=u.getSignificantDigitPosition(p/n)),f.valueType===a&&(f.marker.visible?t.format=u.getDateUnitInterval(r(s)&&s!==0?s:v):r(l)&&r(c)&&(t.format=y.getDateFormatByTickInterval(l,c,s!==0?s:v)))),h.padding!==i&&h.paddingLeftRight===i&&h.paddingTopBottom===i&&(t.paddingLeftRight=t.paddingTopBottom=h.padding),t},_updateScaleOptions:function(n,t,f){var e=this._scaleOptions,v=r(t.minVisible)?t.minVisible:t.min,p=r(t.maxVisible)?t.maxVisible:t.max,s=si(e,f,this._incidentOccured,t.stick,v,p),o,c,h=e._categoriesInfo;!n||n.isEmpty()||t.stubData||(o=s.bounds,t.addRange(o),e.startValue=e.inverted?o.maxVisible:o.minVisible,e.endValue=e.inverted?o.minVisible:o.maxVisible),h&&(e.startValue=h.start,e.endValue=h.end),c=l(e.startValue)&&l(e.endValue)&&e.startValue.getTime()===e.endValue.getTime()||e.startValue===e.endValue,e.isEmpty=yt(e.startValue,e.endValue)||c,e.isEmpty?e.startValue=e.endValue=i:(e.minorTickInterval=s.minorTickInterval,e.majorTickInterval=s.majorTickInterval,e.valueType!==a||r(e.label.format)||(e.label.format=e.marker.visible?u.getDateUnitInterval(e.majorTickInterval):y.getDateFormatByTickInterval(e.startValue,e.endValue,e.majorTickInterval)))},_getStubTicks:function(n){return n.isEmpty=!0,["canvas_position_left","canvas_position_center","canvas_position_right"]},_getTickManagerOptions:function(n,t,r,u){var f=this;return{labelOptions:{},minorTickInterval:t?0:f._getOption("scale").minorTickInterval,tickInterval:n.majorTickInterval,addMinMax:n.showCustomBoundaryTicks?{min:!0,max:!0}:i,minorTickCount:n.minorTickCount,textOptions:{align:"center",font:n.label.font},textFontStyles:nt(n.label.font),incidentOccured:f._incidentOccured,isHorizontal:!0,renderText:function(n,t,i,r){return f._renderer.text(n,t,i,r).append(f._renderer.root)},getText:yt(r,u)?function(n){return n}:function(t){return k(t,n.label)},translate:function(n){return f.translators.x.translate(n)},textSpacing:bt,setTicksAtUnitBeginning:n.setTicksAtUnitBeginning,useTicksAutoArrangement:n.useTicksAutoArrangement,base:n.logarithmBase,stick:!0,showMinorTicks:!0,withMinorCorrection:!0}},_getTicksInfo:function(n){var s=this,t=s._scaleOptions,b=s.translators,h=t.isEmpty,l=b.x.getBusinessRange(),a=t._categoriesInfo,k={axisType:t.type,dataType:t.valueType},i,v=t.startValue,y=t.endValue,d=s._getTickManagerOptions(t,h,v,y),u,e,o,p,c;return i={min:h?l.min:v,max:h?l.max:y,screenDelta:n,customTicks:a&&a.categories},o=f.CoreFactory.createTickManager(k,i,d),c=t.type===w?!r(i.min)||!r(i.max):!r(i.min)&&!r(i.max),u=c&&!r(i.customTicks)?s._getStubTicks(t):o.getTicks(!0),e=o.getBoundaryTicks(),p=o.getFullTicks(),e.length&&(u[0].valueOf()===e[0].valueOf()&&u.splice(0,1),u[u.length-1].valueOf()===e[e.length-1].valueOf()&&u.pop()),{majorTicks:u,minorTicks:o.getMinorTicks(),majorTickInterval:o.getTickInterval(),fullTicks:p,customBoundaryTicks:e}},getSelectedRange:function(){return c(this.rangeContainer.slidersContainer.getSelectedRange())},setSelectedRange:function(n){var i=this,t;!i._isUpdating&&n&&((t=i.rangeContainer.slidersContainer.getSelectedRange(),t&&t.startValue===n.startValue&&t.endValue===n.endValue)||i.rangeContainer.slidersContainer.setSelectedRange(n))},resetSelectedRange:function(n){var t=c(this._scaleOptions);t.blockSelectedRangeChanged=n,this.setSelectedRange(t)},render:function(n){var t=this;return t.__isResizing=n,t.callBase.apply(t,arguments),t.__isResizing=null,t},_applySize:s,_handleLoadingIndicatorShown:s,_initTooltip:s,_setTooltipRendererOptions:s,_setTooltipOptions:s}).include(t.ui.DataHelperMixin))}(jQuery,DevExpress),function(n,t){function o(n){return{x:n.left,y:n.top,width:n.width,height:n.height}}var r=t.viz.rangeSelector,f=r.baseVisualElementMethods,u,s=function(n){return r.rangeSelectorFactory.createSlidersContainer(n)},h=function(n){return r.rangeSelectorFactory.createScale(n)},c=function(n){return r.rangeSelectorFactory.createRangeView(n)},e=function(n,t){return{left:n.left-t.left,top:n.top-t.top,width:n.width+t.right+t.left,height:n.height+t.bottom+t.top}};u=function(n){f.init.apply(this,arguments),this.slidersContainer=s(n),this.rangeView=c(n),this.scale=h(n)},u.prototype=n.extend({},f,{constructor:u,dispose:function(){this.slidersContainer.dispose(),this.slidersContainer=null},_applyOptions:function(n){var i=this,r=n.scaleLabelsAreaHeight,t=n.canvas,u=n.isCompactMode,f={left:t.left,top:t.top,width:t.width,height:t.height>=r?t.height-r:0};i._viewCanvas=f,i.slidersContainer.applyOptions({isCompactMode:u,canvas:f,selectedRangeColor:n.selectedRangeColor,translator:n.translators.x,scale:n.scale,selectedRange:n.selectedRange,sliderMarker:n.sliderMarker,sliderHandle:n.sliderHandle,shutter:n.shutter,behavior:n.behavior,selectedRangeChanged:n.selectedRangeChanged}),i.rangeView.applyOptions({isCompactMode:u,canvas:f,translators:n.translators,background:n.background,chart:n.chart,seriesDataSource:n.seriesDataSource,behavior:n.behavior,isEmpty:n.scale.isEmpty}),i.scale.applyOptions({isCompactMode:u,canvas:t,translator:n.translators.x,scale:n.scale,scaleLabelsAreaHeight:r,setSelectedRange:n.setSelectedRange})},_draw:function(){var n=this,i,h,r,u,f,c=n._options,o=e(c.canvas,c.indents),s=n._viewCanvas,t=n._renderer,l=n.slidersContainer;n._clipRect=t.clipRect(o.left,o.top,o.width,o.height),n._viewClipRect=t.clipRect(s.left,s.top,s.width,s.height),i=t.g().attr({"class":"rangeContainer",clipId:n._clipRect.id}).append(t.root),h=t.g().attr({"class":"view",clipId:n._viewClipRect.id}),n._slidersGroup=r=t.g().attr({"class":"slidersContainer"}),u=t.g().attr({"class":"scale"}),f=t.g().attr({"class":"trackers"}),h.append(i),c.isCompactMode?(u.append(i),r.append(i)):(r.append(i),u.append(i)),f.append(i),n.rangeView.redraw(h),l.redraw(r),n.scale.redraw(u),n._trackersGroup=f,l.appendTrackers(f)},_update:function(){var n=this,t=n._options,i=n.slidersContainer;n._clipRect.attr(o(e(t.canvas,t.indents))),n._viewClipRect.attr(o(n._viewCanvas)),n.rangeView.redraw(),i.redraw(n._slidersGroup),i.appendTrackers(n._trackersGroup),n.scale.redraw()}}),r.RangeContainer=u}(jQuery,DevExpress),function(n,t,i){function y(n,t,i){for(var r={},u,f=0;f<t.length;f++)u=t[f],i.inverted?n<u.posX?r.endValue=u.date:r.startValue||(r.startValue=u.date):n>=u.posX?r.startValue=u.date:r.endValue||(r.endValue=u.date);return r.startValue=r.startValue||i.startValue,r.endValue=r.endValue||i.endValue,r}function k(n,t){var i=new Date(n.getTime()),u=r[t];return u&&u(i),i}function p(n,t){var i=t,r,f;if(i==="week"&&(i="day"),i==="quarter"&&(i="month"),n[i])for(f=0;f<u.dateUnitIntervals.length;f++)if(r=u.dateUnitIntervals[f],n[r]&&(n[r]=!1,n.count--),r===i)break}function w(n,t){var i={value:n,valueText:s.format(n,t.format,t.precision)};return String(u.isFunction(t.customizeText)?t.customizeText.call(i,i):i.valueText)}var c=t.viz,e=c.rangeSelector,s=t.formatHelper,l=e.utils,u=t.utils,a=u.isDefined,v=6,b=.6,f,h=e.baseVisualElementMethods,o=n.extend,r={};r.millisecond=function(n){n.setMilliseconds(0)},r.second=function(n){n.setSeconds(0,0)},r.minute=function(n){n.setMinutes(0,0,0)},r.hour=function(n){n.setHours(0,0,0,0)},r.week=r.day=function(n){n.setDate(1),r.hour(n)},r.month=function(n){n.setMonth(0),r.day(n)},r.quarter=function(n){n.setMonth(s.getFirstQuarterMonth(n.getMonth())),r.day(n)},f=function(){h.init.apply(this,arguments)},f.prototype=o({},h,{constructor:f,_setupDateUnitInterval:function(n){var i,f,t=n.ticksInfo.majorTickInterval,r=n.ticksInfo.majorTicks;if(n.valueType==="datetime"){if(r&&r.autoArrangementStep>1){u.isString(t)&&(t=u.getDateIntervalByString(t));for(i in t)t.hasOwnProperty(i)&&(t[i]*=r.autoArrangementStep,f=u.dateToMilliseconds(t));t=u.convertMillisecondsToDateUnits(f)}this.dateUnitInterval=u.getDateUnitInterval(t)}},_getDrawnDateMarker:function(n,t){var i=this,u,s,r=i._options.scale,f,e,o,h;if(t.x!==null)return i.textOptions.align="left",h=i._renderer.path([t.x,t.y,t.x,t.y+r.marker.separatorHeight],"line").attr(i._majorTickStyle).append(t.group),f=i._renderer.text(w(n,t.label),0,0).attr(i.textOptions).css(i.fontOptions).append(t.group),e=f.getBBox().width,o=r.tick.width+r.marker.textLeftIndent,u=r.inverted?t.x-o-e:t.x+o,s=t.y+r.marker.textTopIndent+i.fontOptions["font-size"],f.move(u,s),{x1:u,x2:u+e,path:h,text:f}},_deleteDrawnDateMarker:function(n){n.path.dispose(),n.path=null,n.text.dispose(),n.text=null},_drawDateMarkers:function(n,t){var r=this,f,o=r._options,y=n.length,h,c,l,v=[],a,e;if(o.scale.valueType==="datetime"&&r.visibleMarkers&&n.length>1){for(f=1;f<y;f++)h=u.getDatesDifferences(n[f-1],n[f]),p(h,r.dateUnitInterval),h.count>0&&(c=k(n[f],r.dateUnitInterval),l=r.translator.translate(c),e=r._getDrawnDateMarker(c,{group:t,y:o.canvas.top+o.canvas.height-r.markersAreaHeight+o.scale.marker.topIndent,x:l,label:r._getLabelFormatOptions(s.getDateFormatByDifferences(h))}),a===i||e.x1>a.x2||e.x2<a.x1?(l!==null&&v.push({date:c,posX:l}),a=e):r._deleteDrawnDateMarker(e));r._initializeMarkersEvents(v,t)}},_getLabelFormatOptions:function(n){return a(this._options.scale.marker.label.format)?this._options.scale.marker.label:o({},this._options.scale.marker.label,{format:n})},_initializeMarkersEvents:function(n,t){var r=this,i=r._options,h=i.canvas.top+i.canvas.height-this.markersAreaHeight+i.scale.marker.topIndent,u,f,o,s;if(n.length>0){u=r._renderer.rect(i.canvas.left,h,i.canvas.width,i.scale.marker.separatorHeight).attr(l.trackerSettings).append(t);u.on(e.events.start,function(t){f=r._renderer.getRootOffset().left,o=l.getEventPageX(t)-f,s=y(o,n,i.scale),i.setSelectedRange(s)});r._markersTracker=u}},_drawLabel:function(n,t){var i=this,r=i._options,u=r.canvas,f=u.top+u.height-i.markersAreaHeight,e=i._renderer.text(w(n,r.scale.label),i.translator.translate(n),f).attr(i.textOptions).css(i.fontOptions).append(t)},_drawTicks:function(n,t,i,r,u,f){for(var o=this,s,h,e=0;e<n.length;e++)f&&o._drawLabel(n[e],f),s=o.translator.translate(n[e],i),h=o._createLine([s,r[0],s,r[1]],t,u)},_createLine:function(n,t,i){return this._renderer.path(n,"line").attr(i).append(t)},_redraw:function(n){var t=this,h=t._options,r=h.scale,p=t._renderer,w=p.g().append(n),u=p.g(),c=r.ticksInfo,b=c.majorTicks,nt=c.minorTicks,tt=c.customBoundaryTicks,it=r.isEmpty||!r.label.visible,l=r.type==="discrete",k=l?-1:0,d=h.isCompactMode,i=h.canvas,g=i.top+i.height-t.scaleLabelsAreaHeight,f=i.top+(g-i.top)/2,e=d?[f-v,f+v]:[i.top,g],y=r._categoriesInfo,s=t._majorTickStyle;t._drawTicks(b,u,k,e,s,!it&&w),(r.showMinorTicks||l)&&t._drawTicks(nt,u,k,e,t._minorTickStyle),t._drawTicks(tt,u,0,e,s),l&&y&&a(y.end)&&t._drawTicks([y.end],u,1,e,s),d&&t._createLine([i.left,f,i.width+i.left,f],n,o({},s,{sharp:"v"})),u.append(n),t._drawDateMarkers(b,w)},_applyOptions:function(n){var t=this,r=n.scale,f,u=r.tick;t.textOptions={align:"center"},t.fontOptions=c.core.utils.patchFontOptions(r.label.font),t._majorTickStyle={"stroke-width":u.width,stroke:u.color,"stroke-opacity":u.opacity,sharp:"h"},t._minorTickStyle=o({},t._majorTickStyle,{"stroke-opacity":u.opacity*b}),t._setupDateUnitInterval(r),t.visibleMarkers=r.marker.visible===i?!0:r.marker.visible,f=r.label.visible?r.label.topIndent+t.fontOptions["font-size"]:0,t.scaleLabelsAreaHeight=n.scaleLabelsAreaHeight,t.markersAreaHeight=t.scaleLabelsAreaHeight-f,t.translator=n.translator},_draw:function(n){this._redraw(n)},_update:function(){this._markersTracker&&this._markersTracker.off(e.events.start,"**"),h._update.apply(this,arguments)}}),f.prototype._calculateRangeByMarkerPosition=y,f.prototype._prepareDatesDifferences=p,e.Scale=f}(jQuery,DevExpress),function(n,t){var r=t.viz.rangeSelector;r.rangeSelectorFactory=function(){return{createRangeContainer:function(n){return new r.RangeContainer(n)},createSlidersContainer:function(n){return new r.SlidersContainer(n)},createScale:function(n){return new r.Scale(n)},createSliderMarker:function(n){return new r.SliderMarker(n)},createRangeView:function(n){return new r.RangeView(n)},createThemeManager:function(n){return new r.ThemeManager(n)},createSlider:function(n,t){return new r.Slider(n,t)},createSlidersEventsManager:function(n,t,i){return new r.SlidersEventsManager(n,t,i)},createSlidersController:function(n){return new r.SlidersController(n)}}}()}(jQuery,DevExpress),function(n,t){function e(){var n=this;c.init.apply(n,arguments),n._controller=l.createSlidersController(n._renderer),n._eventsManager=l.createSlidersEventsManager(n._renderer,n._controller,function(t){n._processSelectionChanged(t)}),n._lastSelectedRange={}}var r=t.viz.rangeSelector,u=t.utils,v=t.support.pointer,o=u.isNumber,s=u.isDate,h=u.isString,f=r.utils,c=r.baseVisualElementMethods,l=r.rangeSelectorFactory,a=f.trackerSettings;e.prototype=n.extend({},c,{constructor:e,_drawAreaTracker:function(n){var i=this,r,u,t=i._options.canvas,f=i._renderer;r=f.rect(t.left,t.top,t.width,t.height).attr(a).append(n),u=f.rect(t.left,t.top,t.width,t.height).attr(a).css({cursor:"pointer"}).append(n),i._controller.setAreaTrackers(r,u)},dispose:function(){this._eventsManager.dispose(),this._controller.dispose(),this._eventManager=null},_processSelectionChanged:function(n,t){var i=this,f=function(n){return n&&i._lastSelectedRange.startValue===n.startValue&&i._lastSelectedRange.endValue===n.endValue},r=i.getSelectedRange();n&&(i._options.behavior.callSelectedRangeChanged||"").toLowerCase()!=="onmoving"||!i._options.selectedRangeChanged||f(r)||(i._updateLastSelectedRange(r),u.isFunction(i._options.selectedRangeChanged)&&i._options.selectedRangeChanged.call(null,r,t),n||f(r)||i.setSelectedRange(r))},_updateLastSelectedRange:function(n){n=n||this._options.selectedRange,this._lastSelectedRange={startValue:n.startValue,endValue:n.endValue}},getSelectedRange:function(){return this._controller.getSelectedRange()},setSelectedRange:function(n){var i=this,r=i._options.scale,u,e,t=i._options.selectedRange,c=function(n,i){var u=r[n];(o(u)&&o(i)||s(u)&&s(i)||h(u)&&h(i))&&(t[n]=i)};n&&(u=n.startValue,e=n.endValue),c("startValue",u),c("endValue",e),t.startValue=f.truncateSelectedRange(t.startValue,r),t.endValue=f.truncateSelectedRange(t.endValue,r),i._controller.applySelectedRange(t),i._controller.applyPosition(),i._processSelectionChanged(!1,n&&n.blockSelectedRangeChanged)},appendTrackers:function(n){this._controller.appendTrackers(n)},_applyOptions:function(n){var t=this;t._controller.applyOptions({isCompactMode:n.isCompactMode,translator:n.translator,canvas:n.canvas,sliderMarker:n.sliderMarker,sliderHandle:n.sliderHandle,shutter:n.shutter,scale:n.scale,behavior:n.behavior}),t._eventsManager.applyOptions({behavior:n.behavior})},_draw:function(n){var t=this,i;v&&(i=t._renderer.root,i&&i.css({msTouchAction:"pinch-zoom"})),t._controller.redraw(n),t._drawAreaTracker(n),t._eventsManager.initialize(),t._update(n)},_updateSelectedView:function(n){var t=this,u=t._options,r=u.canvas,e={"stroke-width":3,stroke:u.selectedRangeColor,sharp:"v"},o=r.top+r.height/2,i=t._selectedView,s=t._selectedViewAppended,f=t._controller;u.isCompactMode?(i?i.attr(e):(t._selectedView=i=t._renderer.path([r.left,o,r.left,o],"line").attr(e),f.setSelectedView(i)),s||(i.append(n),f.removeShutters(),t._selectedViewAppended=!0)):(i&&s&&(i.remove(),t._selectedViewAppended=!1),f.createShutters())},_update:function(n){var t=this,i=t._options.scale.isEmpty,r=t._controller;t._eventsManager.setEnabled(!i),i||t._updateSelectedView(n),r.applySelectedRange(i?{}:t._options.selectedRange),r.applyPosition(t.isDrawn()),t._updateLastSelectedRange(),r.redraw()}}),r.SlidersContainer=e}(jQuery,DevExpress),function(n,t,i){var f=t.viz.rangeSelector,o=f.rangeSelectorFactory.createSlider,h=t.utils,c=f.utils,e,r=0,u=1,s="discrete";e=f.SlidersController=function(n){var t=[o(n,r),o(n,u)];t[r].setAnotherSlider(t[u]),t[u].setAnotherSlider(t[r]),this._sliders=t},e.prototype={constructor:e,setAreaTrackers:function(n,t){this._areaTracker=n,this._selectedAreaTracker=t},applyOptions:function(n){var i=this,t=null,f=i.getSlider(r),e=i.getSlider(u),o=n.scale;i._options=n,f.applyOptions(n),e.applyOptions(n),n.behavior.snapToTicks&&o.type!==s&&(t=o.ticksInfo.fullTicks,t.length>1&&t[0]>t[t.length-1]&&(t=t.reverse())),f.setAvailableValues(t),e.setAvailableValues(t)},processDocking:function(n){var t=this;n!==i?t.getSlider(n).processDocking():(t.getSlider(r).processDocking(),t.getSlider(u).processDocking()),t.setTrackersCursorStyle("default"),t.applyAreaTrackersPosition(),t._applySelectedRangePosition()},_applySelectedRangePosition:function(n){var t=this,i=t._options,f=i.canvas,e=f.top+f.height/2,h=i.behavior.animationEnabled&&!n,o=t.getSlider(r).getPosition(),l=t.getSelectedRangeInterval(),s=[o,e,o+l,e],u=t._selectedView;u&&i.isCompactMode&&(h?u.animate({points:s},c.animationSettings):u.stopAnimation().attr({points:s}))},setSelectedView:function(n){this._selectedView=n},getSelectedRangeInterval:function(){var n=this;return n.getSlider(u).getPosition()-n.getSlider(r).getPosition()},moveSliders:function(n,t){var i=this.getSlider(r);i.setPosition(i.getPosition()+n,!1,t),this.applyPosition(!0)},moveSlider:function(n,t,i,u,f,e){var o=this,s=o.getSlider(n),c=s.getAnotherSlider(),l=c.getPosition(),h;s.canSwap()&&(n===r?i>l:i<l)&&(h=t,t||Math.abs(u)>=Math.abs(f)&&(h=!0,u*f<0?(i+=2*f,e(-f)):(i-=2*f,e(f))),h&&(o.swapSliders(),c.applyPosition(!0))),s.setPosition(i,!0),s.applyPosition(!0),o.applyAreaTrackersPosition(),o._applySelectedRangePosition(!0),o.setTrackersCursorStyle("w-resize")},applySelectedAreaCenterPosition:function(n){var t=this,i=t.getSlider(r),f=(t.getSlider(u).getPosition()-i.getPosition())/2,e=t.getSelectedRangeInterval();i.setPosition(n-f,!1,e),t.applyPosition(),t.processDocking()},endSelection:function(){var t=this.getSlider(r),i=this.getSlider(u),f=t.getCloudBorder()-i.getCloudBorder(),n;n=f>0?!0:!1,t.setOverlapped(n),i.setOverlapped(n)},processManualSelection:function(n,t,i){var c=this,o,e,s=[Math.min(n,t),Math.max(n,t)],f,h;o=n<t?r:u,e=n<t?u:r,f=c.getSlider(e),h=c.getSlider(o),f.setPosition(s[e]),h.setPosition(s[o]),f.setPosition(s[e],!0),f.startEventHandler(i),h.processDocking(),f.applyPosition(!0)},applySelectedRange:function(n){var o=this,f=o._options.scale,l=f.inverted,a=o.getSlider(r),v=o.getSlider(u),t=n.startValue,i=n.endValue,e,c=function(n,t,i){(i?v:a).setValue(n),(i?a:v).setValue(t)};f.type!==s?!l&&t>i||l&&t<i?c(t,i,!0):c(t,i):(e=h.getCategoriesInfo(f._categoriesInfo.categories,t,i),c(e.start,e.end,e.inverted^f.inverted))},getSelectedRange:function(){return{startValue:this.getSlider(r).getValue(),endValue:this.getSlider(u).getValue()}},swapSliders:function(){var n=this;n._sliders.reverse(),n.getSlider(r).changeLocation(),n.getSlider(u).changeLocation()},applyAreaTrackersPosition:function(){var n=this,i=n.getSelectedRange(),t=n._options.canvas,f=n._options.scale,e=n.getSlider(r),o=n.getSlider(u).getPosition()-e.getPosition(),s={x:e.getPosition(),width:o<0?0:o,y:t.top,height:t.height},h={cursor:f.endValue-f.startValue==i.endValue-i.startValue?"default":"pointer"};n._selectedAreaTracker.attr(s).css(h),n._areaTracker.attr({x:t.left,width:t.width,y:t.top,height:t.height})},applyPosition:function(n){var t=this;t.getSlider(r).applyPosition(n),t.getSlider(u).applyPosition(n),t.applyAreaTrackersPosition(),t._applySelectedRangePosition(n)},redraw:function(n){var t=this;t.getSlider(r).redraw(n),t.getSlider(u).redraw(n),t._foregroundSliderIndex=u},toForeground:function(n){var t=this,i=n.getIndex();t._foregroundSliderIndex!==i&&(n.toForeground(),t._foregroundSliderIndex=i)},appendTrackers:function(n){var t=this;t._areaTracker&&t._selectedAreaTracker&&(t._areaTracker.append(n),t._selectedAreaTracker.append(n)),t.getSlider(r).appendTrackers(n),t.getSlider(u).appendTrackers(n)},getSlider:function(n){return this._sliders[n]},getAreaTracker:function(){return this._areaTracker},getSelectedAreaTracker:function(){return this._selectedAreaTracker},setTrackersCursorStyle:function(n){var t=this;t._selectedAreaTracker.css({cursor:n}),t._areaTracker.css({cursor:n})},createShutters:function(){var n=this._sliders;n[0].createShutter(),n[1].createShutter()},removeShutters:function(){var n=this._sliders;n[0].removeShutter(),n[1].removeShutter()},dispose:function(){var n=this._sliders;n[0].dispose(),n[1].dispose()}}}(jQuery,DevExpress),function(n,t,i){var e=t.viz.rangeSelector,l=10,s=0,a=1,h=t.ui.events.addNamespace,c,v=e.utils,r=v.getEventPageX,y=0;e.events={start:"dxpointerdown",move:"dxpointermove",end:"dxpointerup"};var u=function(n){var r=n||window.event,t=r.originalEvent,f=r.touches,u=t?t.pointerType:!1,e=t?t.touches:!1,o=r.which===i&&r.button===1,s=t&&u!==i&&(u===(t.MSPOINTER_TYPE_TOUCH||"touch")||u===(t.MSPOINTER_TYPE_MOUSE||"mouse")&&t.buttons===1),h=o||r.which===1,c=f&&f.length>0||e&&e.length>0;return h||s||c},o=function(n){var t=n.originalEvent,i=n.touches,r=t?t.touches:!1;return i&&i.length>1||r&&r.length>1||null},f=function(n){return n&&n.type&&n.type.indexOf("touch")===0};c=e.SlidersEventsManager=function(n,t,i){var r=this,u=r._uniqueNS="dx-range-selector_"+y++,f=e.events;r._renderer=n,r._slidersController=t,r._processSelectionChanged=i,r._enabled=!0,r._eventsNames={start:h(f.start,u),move:h(f.move,u),end:h(f.end,u)}},c.prototype={constructor:c,_initializeSliderEvents:function(t){var h=this,v,e=h._slidersController,a=h._processSelectionChanged,i=e.getSlider(t),y,c,s,p=function(){s&&(s=!1,e.endSelection(),e.processDocking(),a(!1))},w=function(n){var t,l,p=h._renderer.getRootOffset().left,w,b=i.getIndex();v===f(n)&&(!u(n,!0)&&s?(s=!1,e.processDocking(),a(!1)):s&&(o(n)||n.preventDefault(),t=r(n),w=t-c-p,l=t-i.getPosition()-p,e.moveSlider(b,y,w,l,c,function(n){c=n}),a(!0)),e.endSelection())},l=h._eventsNames;i.startEventHandler=function(n){h._enabled&&u(n)&&!s&&(y=this===i.getSliderTracker().element,s=!0,v=f(n),c=r(n)-i.getPosition()-h._renderer.getRootOffset().left,o(n)||(n.stopPropagation(),n.preventDefault()))};i.on(l.move,function(){e.toForeground(i)});i.on(l.start,i.startEventHandler);n(document).on(l.end,p).on(l.move,w)},_initializeAreaEvents:function(){var t=this,c,e=t._slidersController,s=t._processSelectionChanged,a=e.getAreaTracker(),i=!1,o,v=function(n){var u;i&&(u=r(n),t._options.behavior.moveSelectedRangeByClick&&Math.abs(o-u)<l&&e.applySelectedAreaCenterPosition(u-t._renderer.getRootOffset().left),i=!1,e.endSelection(),s(!1))},y=function(n){var h,a,v,y=t._renderer.getRootOffset().left;c===f(n)&&(i&&!u(n)&&(i=!1,s(!1)),i&&(h=r(n),t._options.behavior.manualRangeSelectionEnabled&&Math.abs(o-h)>=l&&(a=o-y,v=h-y,e.processManualSelection(a,v,n),i=!1,s(!0))))},h=t._eventsNames;a.on(h.start,function(n){t._enabled&&u(n)&&!i&&(i=!0,c=f(n),o=r(n))});n(document).on(h.end,v).on(h.move,y)},_initializeSelectedAreaEvents:function(){var e=this,l,t=e._slidersController,h=e._processSelectionChanged,y=t.getSelectedAreaTracker(),i=!1,a,v,p=function(){i&&(i=!1,t.processDocking(),h(!1))},w=function(n){var e,c;l===f(n)&&(i&&!u(n)&&(i=!1,t.processDocking(),h(!1)),i&&(o(n)||n.preventDefault(),c=r(n),e=c-t.getSlider(s).getPosition()-a,t.moveSliders(e,v),h(!0)),t.endSelection())},c=e._eventsNames;y.on(c.start,function(n){e._enabled&&u(n)&&!i&&(i=!0,l=f(n),a=r(n)-t.getSlider(s).getPosition(),v=t.getSelectedRangeInterval(),o(n)||(n.stopPropagation(),n.preventDefault()))});n(document).on(c.end,p).on(c.move,w)},applyOptions:function(n){this._options=n},dispose:function(){n(document).off("."+this._uniqueNS)},initialize:function(){var n=this;n._initializeSelectedAreaEvents(n),n._initializeAreaEvents(),n._initializeSliderEvents(s),n._initializeSliderEvents(a)},setEnabled:function(n){this._enabled=n}}}(jQuery,DevExpress),function(n,t,i){function w(n,t,i){return Math.abs(t-n)<i}function h(n,t){a.init.apply(this,arguments),this._index=t}var u=t.viz.rangeSelector,o=t.utils,f=u.utils,c=t.support,v=c.touchEvents,y=c.pointer,l=8,p=20,r=0,e=1,s="discrete",a=u.baseVisualElementMethods;h.prototype=n.extend({},a,{constructor:h,_createSlider:function(n){var t=this,r,i,u=t._options.sliderHandle,f=t._options.canvas,e=t._renderer;return i=e.g().attr({"class":"slider",translateX:f.left,translateY:f.top}).append(n),r=e.path([0,0,0,f.height],"line").attr({"stroke-width":u.width,stroke:u.color,"stroke-opacity":u.opacity,sharp:"h"}).append(i),i.setValid=function(n){r.attr({stroke:n?t._options.sliderHandle.color:t._options.sliderMarker.invalidRangeColor})},i.updateHeight=function(){r.attr({points:[0,0,0,t._options.canvas.height]})},i.applyOptions=function(n){r.attr(n)},i},_createSliderTracker:function(n){var t=this,r=t._options.sliderHandle.width,h=l<r?r:l,u=v||y?p:h,e,o=t._options.canvas,s=t._renderer,i=s.g().attr({"class":"sliderTracker",translateX:0,translateY:o.top}).append(n);return e=s.rect(-u/2,0,u,o.height).attr(f.trackerSettings).css({cursor:"w-resize"}).append(i),i.updateHeight=function(){e.attr({height:t._options.canvas.height})},i},_setPosition:function(n,t){var i=this,r=i._correctPosition(n),u=i._options.translator.untranslate(r,i._getValueDirection());i.setValue(u,t,!1),i._position=r},_getValueDirection:function(){return this._options.scale.type===s?this.getIndex()===r?-1:1:0},_setPositionForBothSliders:function(n,t){var r=this,h=r.getAnotherSlider(),u,f,e,c=r._options,v=c.scale,y=c.canvas,p=y.left+y.width,l=c.translator,a=r._getValueDirection(),w=h._getValueDirection(),s=function(n,i,u){var f=u?w:a,e=u?a:w;return l.untranslate(r._correctBounds(o.addInterval(l.translate(n,f),t,i)),e)};n=r._correctBounds(n),u=l.untranslate(n,a),f=s(u),e=n+t,e>p?(f=v.endValue,e=p,u=s(f,!0,!0),n=r._correctBounds(e-t)):e=r._correctBounds(e),r._values&&((v.inverted?u>r._values[r._values.length-1]:u<r._values[0])?(u=r._correctByAvailableValues(u,!1),f=s(u)):(f=r._correctByAvailableValues(f,!1),u=s(f,!0))),h.setValue(f,i,!1),r.setValue(u,i,!1),r._position=n,h._position=e},_correctPosition:function(n){return this._correctBounds(this._correctInversion(n))},_correctInversion:function(n){var i=this,u=n,t=i.getAnotherSlider().getPosition(),f=i.getIndex()===r?n>t:n<t;return f&&(u=t),u},_correctBounds:function(n){var r=this,i=n,t=r._options.canvas;return n<t.left&&(i=t.left),n>t.left+t.width&&(i=t.left+t.width),i},_correctValue:function(n,t,i){var u=this,r=u._correctByAvailableValues(n,i);return t&&(r=u._correctByMinMaxRange(r)),u._options.scale.type!==s&&(r=u.correctByMinRange(r)),r},_correctByAvailableValues:function(n,t){var i=this._values;return!t&&i?f.findNearValue(i,n):n},_correctByMinMaxRange:function(n){var t=this,u=n,k=t._options,o=k.scale,a=t._values,d=t.getIndex(),g=t.getAnotherSlider(),y=g.getValue(),v=!0,h,c,p=o.maxRange,b=o.minRange,l;return o.type===s?w(t.getPosition(),g.getPosition(),k.translator.getInterval())&&(v=!1,u=y):(l=!o.inverted&&d===r||o.inverted&&d===e,p&&(h=t._addInterval(y,l?p:b,l)),b&&(c=t._addInterval(y,l?b:p,l)),c!==i&&u>c?(u=a?f.findLessOrEqualValue(a,c):c,v=!1):h!==i&&u<h&&(u=a?f.findGreaterOrEqualValue(a,h):h,v=!1)),t._setValid(v),u},_addInterval:function(n,t,i){var r,e=this._options.scale.type,u=e==="logarithmic"&&this._options.scale.logarithmBase,f;return u?(f=o.addInterval(o.getLog(n,u),t,i),r=Math.pow(u,f)):r=o.addInterval(n,t,i),r},correctByMinRange:function(n){var u=this,f,o,t=u._options.scale,i=n;return t.minRange&&(u.getIndex()===e?(f=u._addInterval(t.startValue,t.minRange,t.inverted),(!t.inverted&&i<f||t.inverted&&i>f)&&(i=f)):u.getIndex()===r&&(o=u._addInterval(t.endValue,t.minRange,!t.inverted),(!t.inverted&&i>o||t.inverted&&i<o)&&(i=o))),i},_applySliderPosition:function(n,t){var i=this,o=i._options,h=o.behavior.animationEnabled&&!t,u=i._slider,e=i._sliderTracker,r={translateX:n,translateY:o.canvas.top},s=f.animationSettings;i._marker&&i._marker.setPosition(n),h?(u.animate(r,s),e.animate(r,s)):(u.stopAnimation().attr(r),e.stopAnimation().attr(r)),e.updateHeight(),u.updateHeight()},_applyShutterPosition:function(n,t){var s=this,u,h=s._options,c=s._shutter,v=h.behavior.animationEnabled&&!t,l=s.getIndex(),i=h.canvas,a=h.sliderHandle.width/2,o;c&&(l===r?(o=n-i.left-Math.floor(a),o<0&&(o=0),u={x:i.left,y:i.top,width:o,height:i.height}):l===e&&(u={x:n+Math.ceil(a),y:i.top,width:i.left+i.width-n,height:i.height}),v?c.animate(u,f.animationSettings):c.stopAnimation().attr(u))},_setValid:function(n){this._marker&&this._marker.setValid(n),this._slider.setValid(n)},_setText:function(n){this._marker&&this._marker.setText(n)},_update:function(){var n=this,t=n._options,u=t.shutter,i=t.sliderHandle,r=n._marker;r&&(r.applyOptions(t.sliderMarker),r.setCanvas(n._options.canvas)),n._shutter&&n._shutter.attr({fill:u.color,"fill-opacity":u.opacity}),n._slider&&n._slider.applyOptions({"stroke-width":i.width,stroke:i.color,"stroke-opacity":i.opacity})},_draw:function(n){var t=this,r,i,o,f=t._options,s=t._renderer;t._container=o=s.g().attr({"class":"sliderArea"}).append(n),r=t._createSlider(o),f.sliderMarker.visible&&(i=u.rangeSelectorFactory.createSliderMarker({renderer:s,isLeftPointer:t.getIndex()===e,sliderMarkerOptions:f.sliderMarker}),i.setCanvas(f.canvas),i.draw(r)),t._slider=r,t._marker=i,t._sliderTracker=t._createSliderTracker(n)},toForeground:function(){this._container.toForeground()},_applyOptions:function(){this._lastPosition=null},getIndex:function(){return this._index},setAvailableValues:function(n){this._values=n},setAnotherSlider:function(n){this._anotherSlider=n},getAnotherSlider:function(){return this._anotherSlider},appendTrackers:function(n){this._sliderTracker&&this._sliderTracker.append(n)},getSliderTracker:function(){return this._sliderTracker},changeLocation:function(){var n=this;n._marker&&n._marker.changeLocation(),n._index=n._index===r?e:r,n._options.scale.type===s&&n.setPosition(n._position),n._lastPosition=null},setPosition:function(n,t,u){var f=this,e;u!==i?(e=f.getIndex()===r?f:f.getAnotherSlider(),e._setPositionForBothSliders(n,u)):f._setPosition(n,t)},getPosition:function(){return this._position},setValue:function(n,t,f){var e=this,s=e._options,h=s.canvas,c,l;n===i?(e._value=i,c=e.getIndex()===r?h.left:h.left+h.width,l=u.consts.emptySliderMarkerText):(e._value=e._correctValue(n,t,o.isDefined(f)?!!f:!0),c=s.translator.translate(e._value,e._getValueDirection()),l=u.formatValue(e._value,s.sliderMarker)),e._setText(l),e._valuePosition=e._position=c},setOverlapped:function(n){this._marker&&this._marker.setOverlapped(n)},getValue:function(){return this._value},canSwap:function(){var t=this,n=t._options.scale,u,f,i;if(t._options.behavior.allowSlidersSwap){if(n.minRange)if(i=t.getAnotherSlider().getValue(),t.getIndex()===r){if(f=t._addInterval(n.endValue,n.minRange,!n.inverted),!n.inverted&&i>f||n.inverted&&i<f)return!1}else if(u=t._addInterval(n.startValue,n.minRange,n.inverted),!n.inverted&&i<u||n.inverted&&i>u)return!1;return!0}return!1},processDocking:function(){var n=this;n._position=n._valuePosition,n.applyPosition(!1),n._setValid(!0)},applyPosition:function(n){var t=this,i=t.getPosition();t._lastPosition!==i&&(t._applySliderPosition(i,n),t._applyShutterPosition(i,n),t._lastPosition=i)},on:function(n,t){var i=this,r=i._marker,u=r&&r.getTracker(),f=i._sliderTracker;f&&f.on(n,t),u&&u.on(n,t)},createShutter:function(){var t=this,u=t.getIndex(),n=t._options.canvas,f=t._renderer,i=t._shutter;i||(u===r?i=f.rect(n.left,n.top,0,n.height):u===e&&(i=f.rect(n.left,n.top,n.width,n.height)),t._shutter=i),i.append(t._container)},removeShutter:function(){var n=this._shutter;n&&n.remove()},getCloudBorder:function(){return this._marker?this._marker.getBorderPosition():0},dispose:function(){var n=this._marker;n&&n.dispose()}}),u.Slider=h}(jQuery,DevExpress),function(n,t){var o=t.viz,s=o.core,u=o.rangeSelector,f,h=75,r=u.consts.pointerSize,e=function(n,t){var i=n._options;return{width:Math.round(2*i.paddingLeftRight+t.width),height:Math.round(2*i.paddingTopBottom+t.height)}},c=function(n,t){var p=e(n,t),f=p.width,c=p.height,i=-f,u=0,o=r,a=0,s=-r,l=n._position,h=n._canvas,v=n._isLeftPointer,w=function(){i++,u++,o++,a++,s++},b=function(){o>u?o=u:s<i&&(s=i),v&&w()},y=l;return v?l>h.left+h.width-f?(u=-l+(h.left+h.width),i=u-f,b(),y+=i):(i=s=0,u=f):l-h.left<f?(i=-(l-h.left),u=i+f,b(),y+=u):(o=0,w()),n._borderPosition=y,{offset:i,isCutted:(!v||a!==s)&&(v||a!==o),points:[i,0,u,0,u,c,o,c,a,c+r,s,c,i,c]}},l=function(n){var t=n._label.getBBox();return!n._textHeight&&isFinite(t.height)&&(n._textHeight=t.height),{width:t.width,height:n._textHeight,y:t.y}};f=u.SliderMarker=function(t){var i=this;i._renderer=t.renderer,i._text=t.text,i._isLeftPointer=t.isLeftPointer,i._options=n.extend(!0,{},t.sliderMarkerOptions),i._options.textFontStyles=s.utils.patchFontOptions(i._options.font),i._isValid=!0,i._isOverlapped=!1},f.prototype={constructor:f,draw:function(n){var t=this,i=t._options,f=t._sliderMarkerGroup=t._renderer.g().attr({"class":"sliderMarker"}).append(n);t._area=t._renderer.path([],"area").attr({fill:i.color}).append(f),t._label=t._renderer.text(t._text,0,0).attr({align:"left"}).css(i.textFontStyles).append(f),t._tracker=t._renderer.rect(0,0,2*i.paddingLeftRight,2*i.paddingTopBottom+r).attr(u.utils.trackerSettings).css({cursor:"pointer"}).append(f),t._border=t._renderer.rect(0,0,1,0).attr({fill:i.borderColor}),t._drawn=!0,t._update()},_update:function(){function f(t,i){var u,f,s;i=i||e(n,t),n._sliderMarkerGroup.attr({translateY:-(i.height+r)}),f=c(n,t),u=f.points,s=f.offset,n._area.attr({points:u}),n._border.attr({x:n._isLeftPointer?u[0]-1:u[2],height:f.isCutted?i.height:i.height+r}),n._tracker.attr({translateX:s,width:i.width,height:i.height+r}),n._label.attr({translateX:o.paddingLeftRight+s,translateY:i.height/2-(t.y+t.height/2)})}var n=this,i,o=n._options,t,u;(clearTimeout(n._timeout),n._drawn)&&(n._label.attr({text:n._text||""}),t=l(n),u=e(n,t),i=n._textSize||t,i=n._textSize=t.width>i.width||t.height>i.height?t:i,n._timeout=setTimeout(function(){f(t,u),n._textSize=t},h),f(i))},setText:function(n){var t=this;t._text!==n&&(t._text=n)},setPosition:function(n){this._position=n,this._update()},changeLocation:function(){var n=this;n._isLeftPointer=!n._isLeftPointer,n._update()},applyOptions:function(t){var i=this,r,u=i._options=n.extend(!0,{},t);r=u.textFontStyles=s.utils.patchFontOptions(u.font),i._textHeight=null,i._area.attr({fill:t.color}),i._border.attr({fill:t.borderColor}),i._label.css(r),i._update()},getTracker:function(){return this._tracker},setValid:function(n){var t=this,i=t._options;t._isValid!==n&&(t._isValid=n,t._area.attr({fill:n?i.color:i.invalidRangeColor}))},dispose:function(){clearTimeout(this._timeout)},setOverlapped:function(n){var t=this._border,i=this._isOverlapped;i!==n&&(n?t.append(this._sliderMarkerGroup):this._isOverlapped&&t.remove(),this._isOverlapped=n)},getBorderPosition:function(){return this._borderPosition},setCanvas:function(n){this._canvas=n}}}(jQuery,DevExpress),function(n,t){var u=t.viz.rangeSelector,r,f=u.baseVisualElementMethods;r=function(){f.init.apply(this,arguments)},r.prototype=n.extend({},f,{constructor:r,_draw:function(n){var h=this,u,r,t=h._options,y=t.isCompactMode,i=t.canvas,c=t.isEmpty,o=h._renderer,f=t.seriesDataSource,l=f&&f.isShowChart()&&!c,s=t.background,a=l?f.getBackgroundColor():s.color,e=s.image,v=s.visible;if(!y&&(v&&!c&&a&&o.rect(i.left,i.top,i.width+1,i.height).attr({fill:a,"class":"dx-range-selector-background"}).append(n),v&&e&&e.url&&o.image(i.left,i.top,i.width+1,i.height,e.url,e.location).append(n),l))for(u=f.getSeries(),f.adjustSeriesDimensions(t.translators,t.chart.useAggregation),r=0;r<u.length;r++)u[r]._extGroups.seriesGroup=n,u[r]._extGroups.labelsGroup=n,u[r].draw(t.translators,t.behavior&&t.behavior.animationEnabled&&o.animationEnabled())}}),u.RangeView=r}(jQuery,DevExpress),function(n,t,i){function y(t,i,r){n.each(t,function(t,u){n.each(r.getTeamplatedFields(),function(n,t){u[t.teamplateField]=u[t.originalField]}),i.push(u)}),r.updateTeamplateFieldNames()}var o=t.viz.rangeSelector,s=t.viz.charts,u=t.viz.core,e=u.CoreFactory,r=t.utils,f,h=function(n){return s.factory.createThemeManager(n,"rangeSelector.chart")},c=function(t){return n.isArray(t)&&t.length>0&&(r.isNumber(t[0])||r.isDate(t[0]))},l=function(t){return n.map(t,function(n,t){return{arg:n,val:t}})},a=function(t,i,r,u){var o=[],f=[];return n.each(t,function(t,i){n.inArray(i.type,f)===-1&&f.push(i.type)}),n.each(f,function(n,f){var s=new e.createSeriesFamily({type:f,equalBarWidth:i,minBubbleSize:r,maxBubbleSize:u});s.add(t),s.adjustSeriesValues(),o.push(s)}),o},v=function(t){var r=["bar","candlestick","stock","bubble"],i=!0;return t=t.toLowerCase(),n.each(r,function(n,r){if(t.indexOf(r)!==-1)return i=!1,!1}),i};f=o.SeriesDataSource=function(n){var i=this,o,e,t=i._themeManager=h(n.chart),u,f;t._fontFields=["commonSeriesSettings.label.font"],t.setTheme(n.chart.theme),u=t.getOptions("topIndent"),f=t.getOptions("bottomIndent"),i._indent={top:u>=0&&u<1?u:0,bottom:f>=0&&f<1?f:0},i._valueAxis=t.getOptions("valueAxisRangeSelector")||{},i._hideChart=!1,e=t.getOptions("seriesTemplate"),n.dataSource&&e&&(o=r.processSeriesTemplate(e,n.dataSource)),i._series=i._calculateSeries(n,o),i._seriesFamilies=a(i._series,t.getOptions("equalBarWidth"),t.getOptions("minBubbleSize"),t.getOptions("maxBubbleSize"))},f.prototype={constructor:f,_calculateSeries:function(t,i){var f=this,h=[],a,v,s,p,g,b=f._themeManager,k=!!b.getOptions("seriesTemplate"),r=k?i:t.chart.series,tt=t.chart.valueAxis&&t.chart.valueAxis.valueType,w,o,d,nt;for(f.teamplateData=[],t.dataSource&&!r&&(c(t.dataSource)&&(t.dataSource=l(t.dataSource)),w=t.dataSourceField||"arg",r={argumentField:w,valueField:w},f._hideChart=!0),r=n.isArray(r)?r:r?[r]:[],f._backgroundColor=t.backgroundColor,o=0;o<r.length;o++)a=n.extend(!0,{incidentOccured:t.incidentOccured},r[o]),a.rotated=!1,s=a.data||t.dataSource,v=b.getOptions("series",a),v.argumentField=v.argumentField||t.dataSourceField,s&&s.length>0&&(d=e.createSeries({renderer:t.renderer},v),h.push(d)),k&&y(s,f.teamplateData,d);for(s=k?f.teamplateData:s,p=[h],p.argumentOptions={categories:t.categories,argumentType:t.valueType,type:t.axisType},p[0].valueOptions={valueType:w?t.valueType:tt},f._dataValidator=u.CoreFactory.createDataValidator(s,p,t.incidentOccured,b.getOptions("dataPrepareSettings")),g=f._dataValidator.validate(),o=0;o<h.length;o++)nt=h[o],nt.updateData(g);return h},adjustSeriesDimensions:function(t,i){var r=this;i&&n.each(r._series||[],function(n,i){i.resamplePoints(t.x)}),n.each(r._seriesFamilies,function(n,i){i.adjustSeriesDimensions({arg:t.x,val:t.y})})},getBoundRange:function(){var f=this,l,a=f._valueAxis.min,y=f._valueAxis.max,t=new u.Range({isValueRange:!0,min:a,minVisible:a,max:y,maxVisible:y,axisType:f._valueAxis.type,base:f._valueAxis.logarithmBase}),o=new u.Range({}),e,s,h,c;return n.each(f._series,function(n,i){l=i.getRangeData(),t.addRange(l.val),o.addRange(l.arg),v(i.type)||o.addRange({stick:!1})}),t.isDefined()&&o.isDefined()&&(h=f._valueAxis.inverted?f._indent.top:f._indent.bottom,c=f._valueAxis.inverted?f._indent.bottom:f._indent.top,e=t.max-t.min,s=(n.isNumeric(t.maxVisible)?t.maxVisible:t.max)-(n.isNumeric(t.minVisible)?t.minVisible:t.min),r.isDate(t.min)?t.min=new Date(t.min.valueOf()-e*h):t.min-=e*h,r.isDate(t.max)?t.max=new Date(t.max.valueOf()+e*c):t.max+=e*c,n.isNumeric(s)&&(t.maxVisible=t.maxVisible?t.maxVisible+s*c:i,t.minVisible=t.minVisible?t.minVisible-s*h:i),t.invert=f._valueAxis.inverted),{arg:o,val:t}},getSeries:function(){var n=this;return n._series},getBackgroundColor:function(){return this._backgroundColor},isEmpty:function(){var n=this;return n.getSeries().length===0},isShowChart:function(){var n=this;return!n.isEmpty()&&!n._hideChart},getCalculatedValueType:function(){var n=this,t;return n._series.length&&(t=n._series[0].argumentType),t},getThemeManager:function(){return this._themeManager}}}(jQuery,DevExpress),function(n,t){t.viz.rangeSelector.ThemeManager=t.viz.core.BaseThemeManager.inherit({_themeSection:"rangeSelector",_fontFields:["scale.label.font","sliderMarker.font","loadingIndicator.font"]})}(jQuery,DevExpress),DevExpress.MOD_VIZ_RANGESELECTOR=!0}